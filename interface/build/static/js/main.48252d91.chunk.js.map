{"version":3,"sources":["ethereum/deb0xViews.js","ethereum/Converter.js","components/App/Encrypt.tsx","photos/icons/avatars sync /^/.//animal/-.*/.svg$","photos/icons/clouds/cloud-2.svg","photos/icons/clouds/cloud-1.svg","photos/icons/clouds/cloud-3.svg","photos/icons/airplane-black.svg","ethereum/deb0x.js","components/App/Mint.tsx","ethereum/EventLogsMoralis.js","components/App/Snackbar.tsx","components/Common/GaEventTracker.tsx","ethereum/signer.js","ethereum/forwarder.js","photos/icons/avatars/animal-1.svg","photos/icons/avatars/animal-10.svg","photos/icons/avatars/animal-11.svg","photos/icons/avatars/animal-12.svg","photos/icons/avatars/animal-13.svg","photos/icons/avatars/animal-14.svg","photos/icons/avatars/animal-15.svg","photos/icons/avatars/animal-16.svg","photos/icons/avatars/animal-17.svg","photos/icons/avatars/animal-18.svg","photos/icons/avatars/animal-19.svg","photos/icons/avatars/animal-2.svg","photos/icons/avatars/animal-20.svg","photos/icons/avatars/animal-21.svg","photos/icons/avatars/animal-22.svg","photos/icons/avatars/animal-23.svg","photos/icons/avatars/animal-24.svg","photos/icons/avatars/animal-25.svg","photos/icons/avatars/animal-26.svg","photos/icons/avatars/animal-27.svg","photos/icons/avatars/animal-28.svg","photos/icons/avatars/animal-29.svg","photos/icons/avatars/animal-3.svg","photos/icons/avatars/animal-30.svg","photos/icons/avatars/animal-31.svg","photos/icons/avatars/animal-32.svg","photos/icons/avatars/animal-33.svg","photos/icons/avatars/animal-34.svg","photos/icons/avatars/animal-35.svg","photos/icons/avatars/animal-36.svg","photos/icons/avatars/animal-37.svg","photos/icons/avatars/animal-38.svg","photos/icons/avatars/animal-39.svg","photos/icons/avatars/animal-4.svg","photos/icons/avatars/animal-40.svg","photos/icons/avatars/animal-41.svg","photos/icons/avatars/animal-42.svg","photos/icons/avatars/animal-43.svg","photos/icons/avatars/animal-44.svg","photos/icons/avatars/animal-45.svg","photos/icons/avatars/animal-46.svg","photos/icons/avatars/animal-47.svg","photos/icons/avatars/animal-48.svg","photos/icons/avatars/animal-49.svg","photos/icons/avatars/animal-5.svg","photos/icons/avatars/animal-50.svg","photos/icons/avatars/animal-6.svg","photos/icons/avatars/animal-7.svg","photos/icons/avatars/animal-8.svg","photos/icons/avatars/animal-9.svg","photos/icons/theme-switch-dark.svg","photos/icons/theme-switch-light.svg","connectors.ts","hooks.ts","photos/icons/ios-compose.svg","photos/icons/trophy.svg","photos/icons/coins-solid.svg","photos/icons/users-solid.svg","components/Contexts/ContactsContext.tsx","components/ContactsSetter.tsx","components/App/PermanentDrawer.tsx","components/Common/ScreenSize.tsx","components/App/Stepper.tsx","components/Common/AccountName.tsx","components/Contexts/ReadedMessagesContext.tsx","components/Contexts/ReadedMessagesProvider.tsx","components/App/Decrypt.tsx","ethereum/deb0xerc20.js","photos/icons/coin-bag-solid--light.svg","photos/icons/token.svg","photos/icons/coin-bag-solid--dark.svg","photos/icons/wallet--light.svg","photos/icons/wallet--dark.svg","photos/icons/trophyRewards.svg","components/App/Stake.tsx","components/App/Sent.tsx","components/Contexts/ThemeContext.tsx","components/Contexts/ThemeProvider.tsx","components/Contexts/ContactsProvider.tsx","photos/icons/elephant.svg","photos/icons/logo-green.svg","photos/empty.png","components/App/Spinner.tsx","components/ThemeSetter.tsx","components/App/AppBar.tsx","photos/icons/copy-1.svg","photos/icons/wallet.svg","photos/icons/diconnect.svg","photos/icons/icon-1.png","photos/logo-dark.svg","photos/logo-light.svg","components/HowTo.tsx","photos/icons/icon-2.png","photos/icons/icon-3.png","photos/party-popper.png","photos/icons/home/compose.svg","photos/icons/home/inbox.svg","photos/icons/home/star.svg","photos/icons/home/send.svg","photos/icons/home/robot.svg","photos/icons/home/contact.svg","photos/icons/home/github.svg","photos/icons/home/discord.svg","components/App/Home.tsx","components/App/AllInitializedAddresses.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["abi","require","signerOrProvider","address","ethers","Contract","convertStringToBytes32","stringToConvert","uint8Array","utils","toUtf8Bytes","bytes32Array","index","length","paddedValues","zeroPad","slice","push","Array","from","convertBytes32ToString","bytes32ToConvert","reconstructed","reduce","acc","curVal","concat","toUtf8String","BigNumber","deb0xAddress","deb0xViewsAddress","ethUtil","whitelist","dataFromWhitelist","projectIdAndSecret","process","client","create","host","port","protocol","headers","authorization","Buffer","toString","Encrypt","replyAddress","useWeb3React","account","library","useState","textToEncrypt","setTextToEncrypt","encryptionKeyInitialized","setEncryptionKeyInitialized","senderAddress","setSenderAddress","notificationState","setNotificationState","messageSessionSentCounter","setMessageSessionSentCounter","loading","setLoading","addressList","setAddressList","setError","JSON","parse","localStorage","getItem","input","setInput","props","setAddress","evt","includes","key","preventDefault","value","trim","isValid","paste","clipboardData","getData","error","isInList","isAddress","isInitialized","message","open","severity","deb0xViews","getKeyMoralis","fetchSendResult","request","url","fetch","method","body","stringify","then","response","json","data","result","tx","status","setEditorState","EditorState","createEmpty","sendMessageTx","deb0xContract","recipients","cids","overrides","parseUnits","gasLimit","constants","AddressZero","wait","catch","messageToEncrypt","destinationAddresses","getSigner","signer","flat","getAddress","Deb0x","destinationAddressEncryptionKey","encryptedMessage","bufferToHex","encrypt","publicKey","version","add","path","forwarder","createInstance","interface","encodeFunctionData","to","signMetaTxRequest","gaEventTracker","useEffect","match","removeItem","getPublicEncryptionKey","editorState","sendContent","draftToHtml","convertToRaw","getCurrentContent","useAnalyticsEventTracker","state","className","component","noValidate","autoComplete","id","placeholder","onPaste","onBlur","onKeyDown","onChange","target","direction","spacing","map","label","onDelete","item","filter","i","deleteIcon","onEditorStateChange","toolbarClassName","wrapperClassName","editorClassName","onFocus","endIcon","src","airplaneBlack","alt","loadingPosition","disabled","onClick","encryptText","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Mint","count","setCount","getCurrentPrice","options","axios","requestValue","web3","fromWei","estimationValue","gasLimitIntervalValue","Number","price","fee","duplicate","repeat","spliting","split","pop","fill","forEach","elemnet","type","max","rows","moralisKey","setKeyEvent","secondaryTopic","selectEvent","params","chain","from_block","topic0","topic","topic1","limit","accept","getAllEventsWithSecondaryTopic","cursor","fetchMessagesWithSecondaryAndThirdTopic","thirdTopic","topic2","getSentMessageEvents","setKeyAllEvents","name","secondaryTopics","events","toLowerCase","base64","encode","arrayify","fetchMessageSendersMoralis","newEvents","element","messageSenders","fetchMessagesMoralis","typesArray","returnedData","argumentsArray","contentValue","dataAboutEvent","eth","decodeParameters","stripZeros","fetchSentMessagesMoralis","mapForRecipients","Map","mapForEnvelope","has","get","set","arrrayOfEnvelope","allData","arrayOfRecipients","values","content","timestamp","getInitializedAddresses","Alert","forwardRef","ref","elevation","variant","SnackbarNotification","setState","handleClose","event","reason","autoHideDuration","onClose","sx","width","category","action","ReactGA","ethSigUtil","ethereumJsUtil","typeName","typeHash","EIP712Domain","ForwardRequest","getMetaTxTypeData","chainId","verifyingContract","types","domain","primaryType","signTypedData","argData","send","buildRequest","valueParam","getNonce","nonce","gas","validUntilTime","buildTypedData","provider","getNetwork","n","typeData","getDomainSeparator","TypedDataUtils","hashStruct","toSign","signature","domainSeparator","injected","InjectedConnector","supportedChainIds","network","NetworkConnector","urls","defaultChainId","useEagerConnect","activate","active","tried","setTried","isAuthorized","undefined","initialContacts","contacts","setContacts","_values","ContactsContext","createContext","ContactsSetter","useContext","setName","useRef","onClickOutside","theme","setTheme","addressInput","setItem","handleClickOutside","current","contains","document","addEventListener","removeEventListener","Snackbar","Modal","show","Box","currentTarget","readOnly","addressValue","some","PermanentDrawer","context","connector","activatingConnector","setActivatingConnector","selectedIndex","setSelectedIndex","dimensions","height","windowSize","setWindowSize","handleResize","window","innerWidth","innerHeight","ScreenSize","setNetworkName","setShow","handleChange","text","providers","setTimeout","display","Drawer","anchor","List","ListItem","button","selected","ListItemIcon","trophy","coins","users","ListItemText","primary","contact","IconButton","size","navigator","clipboard","writeText","fontSize","querySelector","click","contactsList","_","deleteContact","Add","href","icon","faTwitter","faDiscord","faGithub","steps","HorizontalLinearStepper","encryptionKey","setEncryptionKey","activeStep","setActiveStep","whichStepFailed","setStepFailed","handleNext","prevActiveStep","fetchInitializeResult","onDeboxInitialization","sendInitializeTx","setKey","decode","connect","maxWidth","Stepper","alternativeLabel","labelProps","optional","Typography","color","Step","StepLabel","flexDirection","pt","LoadingButton","formatAccountName","substring","readedMessages","readed","setReaded","ReadedMessagesContext","ReadedMessagesProvider","children","Provider","Decrypt","savedContacts","gaContactTracker","decrypt","decryptedMessage","fetchMessage","Message","encryptMessage","fetchedMessage","setMessage","ensName","setEnsName","messageTime","isDecrypted","setIsDecrypted","Math","floor","random","randomImage","isReaded","setIsReaded","checkENS","checkMessageInLocalStorage","lookupAddress","sender","setPreviousIndex","hideMessage","checkSenderInLocalStorage","user","previousIndex","disablePadding","secondaryAction","edge","ListItemButton","decryptMessage","default","filteredPerson","dangerouslySetInnerHTML","__html","Announcement","GetMessages","setFetchedMessages","sortedMessages","setSortedMessages","senderAddresses","cidsPromises","Promise","all","encryptedMessagesPromisesArray","cidArray","encryptedMessagesPromises","cid","unixTimestamp","dateObject","Date","humanDateFormat","toLocaleString","promise","encryptedMessages","sortedEncryptedMessages","sendersArray","timestampArray","transactions","ok","processMessages","CircularProgress","Pagination","deb0xERC20Address","Stake","FeesPanel","feesUnclaimed","setFeesUnclaimed","Deb0xViews","deb0xViewsContract","getUnclaimedFees","unclaimedRewards","formatEther","fetchClaimFeesResult","sendClaimFeesTx","claimFees","feesAccrued","Card","CardContent","trophyRewards","CardActions","CyclePanel","currentReward","setCurrentReward","currentCycleReward","cycleReward","RewardsPanel","rewardsUnclaimed","setRewardsUnclaimed","feeSharePercentage","setFeeSharePercentage","getUnclaimedRewards","getAccWithdrawableStake","accWithdrawableStake","balance","parseFloat","currentStartedCycle","currentCycle","summedCycleStakes","totalSupply","feeShare","round","toFixed","fetchClaimRewardsResult","sendClaimRewardsTx","claimRewards","rewardsAccrued","StakeUnstake","alignment","setAlignment","userStakedAmount","setUserStakedAmount","userUnstakedAmount","setUserUnstakedAmount","tokensForUnstake","setTokenForUnstake","totalStaked","setTotalStaked","amountToUnstake","setAmountToUnstake","amountToStake","setAmountToStake","approved","setApproved","accFirstStake","firstStakeCycle","accSecondStake","secondStakeCycle","accStakeCycle","firstStakeCycleAmount","secondStakeCycleAmount","withdawbleStake","totalStakedAmount","Deb0xERC20","deb0xERC20Contract","balanceOf","number","indexOf","allowance","approve","parseEther","fetchUnstakeResult","sendUnstakeTx","unstake","fetchStakeResult","sendStakeTx","stake","setStakedAmount","totalAmountStaked","setTokensForUntakedAmount","setUnstakedAmount","setApproval","ToggleButtonGroup","exclusive","newAlignment","ToggleButton","coinBagDark","coinBagLight","walletDark","walletLight","Grid","container","OutlinedInput","inputProps","min","Button","Sent","setRecipients","onlyUnique","self","recipientsTemp","recipient","recipientsFiltered","handleDecryptMessage","fetchedMessages","sentMessages","sentMessagesRetrieved","intermediateValueForContentData","intermediateValueForRecipients","contentData","fetchedMessageContent","messages","cloud2","cloud1","cloud3","initialThemeState","_value","ThemeContext","ThemeProvider","savedThemeLocal","ContactsProvider","Spinner","rest","viewBox","xmlns","stroke","fillRule","transform","strokeWidth","strokeOpacity","cx","cy","r","d","attributeName","dur","repeatCount","ThemeSetter","checked","setChecked","Switch","ConnectorNames","connectorsByName","Injected","AppBarComponent","deactivate","networkName","anchorEl","setAnchorEl","setOpen","floorPrecised","power","pow","currentStake","pendingStakeWithdrawal","sub","ethereum","symbol","decimals","filterFrom","filters","Transfer","filterTo","on","removeAllListeners","handleClick","ClickAwayListener","onClickAway","currentConnector","activating","connected","Popper","copyIcon","addToken","walletIcon","disconnectIcon","HowTo","logoDark","logoLight","Home","navigateTo","HomeContent","startIcon","Icon","compose","inbox","star","robot","github","discord","AllInitializedAddresses","addresses","setAddresses","checkAddressInLocalStorage","getAddresses","initialize","Network","getLibrary","Web3Provider","pollingInterval","App","errorMsg","selectedOption","setSelectedOption","currentChainId","setCurrentChainId","isVisible","setIsVisible","setIsOptionSelected","gaEventMenuTracker","triedEager","newValue","displayErrorMsg","chainName","rpcUrls","blockExplorerUrls","nativeCurrency","suppress","handleConnect","handleChainChanged","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","location","pathname","switchNetwork","err","style","alignItems","marginTop","marginBottom","textAlign","mt","elephant","logoGreen","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.48252d91.chunk.js","sourcesContent":["import { ethers } from \"ethers\";\n\nconst { abi } = require(\"./Deb0xViews.json\");\n\nexport default (signerOrProvider, address) => {\n    return new ethers.Contract(address, abi, signerOrProvider);\n}","import { ethers } from \"ethers\";\n\nexport function convertStringToBytes32(stringToConvert) {\n    let uint8Array = ethers.utils.toUtf8Bytes(stringToConvert);\n    let bytes32Array = [];\n    let index = 0;\n    while (index * 32 < uint8Array.length) {\n        let paddedValues = ethers.utils.zeroPad(uint8Array.slice(index * 32, (index + 1) * 32), 32);\n        bytes32Array.push(Array.from(paddedValues));\n        index++;\n    }\n    return bytes32Array\n}\n\nexport function convertBytes32ToString(bytes32ToConvert) {\n    const reconstructed = bytes32ToConvert.reduce((acc, curVal) => {\n        return acc.concat(Array.from(curVal));\n    }, []);\n\n    return ethers.utils.toUtf8String(reconstructed);\n}","import { useState, useEffect, useContext } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport { encrypt } from '@metamask/eth-sig-util'\nimport Deb0x from \"../../ethereum/deb0x\"\nimport { create } from 'ipfs-http-client'\nimport SendIcon from '@mui/icons-material/Send';\nimport Chip from '@mui/material/Chip';\nimport Stack from '@mui/material/Stack';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport {\n    Box, TextField, Typography\n} from '@mui/material';\nimport { ethers } from \"ethers\";\nimport SnackbarNotification from './Snackbar';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport '../../componentsStyling/encrypt.scss';\nimport { EditorState, convertToRaw } from 'draft-js';\nimport draftToHtml from 'draftjs-to-html';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport { Editor } from 'react-draft-wysiwyg';\nimport airplaneBlack from '../../photos/icons/airplane-black.svg';\nimport {getKeyMoralis} from \"../../ethereum/EventLogsMoralis\";\nimport { signMetaTxRequest } from '../../ethereum/signer';\nimport { createInstance } from '../../ethereum/forwarder'\nimport dataFromWhitelist from '../../constants.json';\nimport deb0xViews from '../../ethereum/deb0xViews';\nimport useAnalyticsEventTracker from '../Common/GaEventTracker';\nimport { convertStringToBytes32} from '../../../src/ethereum/Converter.js';\n\nconst { BigNumber } = require(\"ethers\");\nconst deb0xAddress = \"0xA06735da049041eb523Ccf0b8c3fB9D36216c646\";\nconst deb0xViewsAddress = \"0x51CcBf6DA6c14b6A31Bc0FcA07056151fA003aBC\";\nconst ethUtil = require('ethereumjs-util')\nconst { whitelist } = dataFromWhitelist;\n\nconst projectId = process.env.REACT_APP_PROJECT_ID\nconst projectSecret = process.env.REACT_APP_PROJECT_SECRET\nconst projectIdAndSecret = `${projectId}:${projectSecret}`\n\nconst client = create({\n    host: 'ipfs.infura.io',\n    port: 5001,\n    protocol: 'https',\n  headers: {\n    authorization: `Basic ${Buffer.from(projectIdAndSecret).toString(\n      'base64'\n    )}`,\n  },\n})\n\n\nexport function Encrypt(replyAddress?: any): any {\n    const { account, library } = useWeb3React()\n    const [encryptionKey, setKey] = useState('')\n    const [textToEncrypt, setTextToEncrypt] = useState('')\n    const [encryptionKeyInitialized, setEncryptionKeyInitialized] = useState('')\n    const [senderAddress, setSenderAddress] = useState('')\n    const [notificationState, setNotificationState] = useState({})\n    const [messageSessionSentCounter, setMessageSessionSentCounter] = useState(0)\n    const [loading, setLoading] = useState(false)\n    const [estimatedReward, setEstimatedReward] = useState(\"9.32\");\n    const [addressList, setAddressList] = useState<string[]>([])\n    const [error, setError] = useState<string | null>(null);\n    const [ input, setInput ] = useState(JSON.parse(localStorage.getItem('input') || 'null'));\n    const [address, setAddress] = useState<string>(replyAddress.props);\n\n    useEffect(() => setAddress(replyAddress.props), []);\n\n    useEffect(() => {\n        if(input !== null && input.match(/^0x[a-fA-F0-9]{40}$/g)) {\n            isValid(input).then((result: any) => {\n                if(result) {\n                    setAddressList([...addressList, input]);\n                }\n                else\n                    localStorage.removeItem('input');\n            })\n        }\n    }, [input]);\n\n    useEffect(() => setInput(JSON.parse(localStorage.getItem('input') || 'null')));\n\n    useEffect(() => {\n        if (!encryptionKeyInitialized) {\n            getPublicEncryptionKey()\n        }\n    }, []);\n\n    async function handleKeyDown(evt: any) {\n        if ([\"Enter\", \"Tab\", \",\"].includes(evt.key)) {\n            evt.preventDefault();\n\n            var value = senderAddress.trim();\n\n            if (value && await isValid(value)) {\n                setAddressList([...addressList, senderAddress])\n                setSenderAddress(\"\")\n            }\n        }\n    }\n\n    function handleChange(evt: any) {\n        setSenderAddress(evt.target.value)\n        setError(null)\n    }\n\n    function handleDelete(item: any) {\n        setAddressList(addressList.filter(i => i !== item))\n        localStorage.removeItem('input');\n    }\n\n    async function handlePaste(evt: any) {\n        evt.preventDefault()\n        var paste = evt.clipboardData.getData(\"text\")\n        if(await isValid(paste)) {\n            setAddressList([...addressList, paste])\n        }\n    }\n\n    async function isValid(address: any) {\n        let error = null;\n\n        if (isInList(address)) {\n            error = `${address} has already been added.`;\n        }\n\n        if (!isAddress(address)) {\n            error = `${address} is not a valid ethereum address.`;\n        } else if (await isInitialized(address) == \"\") {\n            error = `${address} has not initialized deb0x.`;\n        }\n\n        if (error) {\n            setNotificationState({\n                message: error, open: true,\n                severity: \"error\"\n            })\n            setError(error);\n\n            return false;\n        }\n\n        return true;\n    }\n\n    async function isInitialized(address: any) {\n        const deb0xViewsContract = deb0xViews(library, deb0xViewsAddress);\n        return await getKeyMoralis(address);\n    }\n\n    function isInList(address: any) {\n        return addressList.includes(address);\n    }\n\n    function isAddress(address: any) {\n        return ethers.utils.isAddress(address);\n    }\n\n    async function fetchSendResult(request: any, url: any) {\n        await fetch(url, {\n            method: 'POST',\n            body: JSON.stringify(request),\n            headers: { 'Content-Type': 'application/json' },\n        })\n            .then((response) => response.json())\n            .then(async (data) => {\n                try{\n                    const {tx: txReceipt} = JSON.parse(data.result)\n                    if(txReceipt.status == 1){\n                        setNotificationState({\n                            message: \"Message was succesfully sent.\",\n                            open: true,\n                            severity: \"success\"\n                        })\n    \n                        let count = messageSessionSentCounter + 1;\n                        setMessageSessionSentCounter(count);\n                        setEditorState(EditorState.createEmpty());\n                    } else {\n                        setNotificationState({\n                            message: \"Message couldn't be sent!\",\n                            open: true,\n                            severity: \"error\"\n                        })\n                    }\n                } catch(error) {\n                    if(data.status == \"pending\") {\n                        setNotificationState({\n                            message: \"Your transaction is pending. Your message should arrive shortly\",\n                            open: true,\n                            severity: \"info\"\n                        })\n                    } else if(data.status == \"error\") {\n                        setNotificationState({\n                            message: \"Transaction relayer error. Please try again\",\n                            open: true,\n                            severity: \"error\"\n                        })\n                    }\n                }\n                \n            })\n    }\n\n    async function sendMessageTx(deb0xContract: any, recipients: any, cids: any) {\n        try {\n            const overrides = \n                { value: ethers.utils.parseUnits(\"0.01\", \"ether\"),\n                    gasLimit:BigNumber.from(\"1000000\") }\n            const tx = await deb0xContract[\"send(address[],bytes32[][],address,uint256,uint256)\"](recipients,\n                cids,\n                ethers.constants.AddressZero,\n                0,\n                0,\n                overrides)\n\n            await tx.wait()\n                .then((result: any) => {\n                    setNotificationState({\n                        message: \"Message was succesfully sent.\",\n                        open: true,\n                        severity: \"success\"\n                    })\n\n                    let count = messageSessionSentCounter + 1;\n                    setMessageSessionSentCounter(count);\n                    setEditorState(EditorState.createEmpty());\n                })\n                .catch((error: any) => {\n                    setNotificationState({\n                        message: \"Message couldn't be sent!\",\n                        open: true,\n                        severity: \"error\"\n                    })\n                })\n            } catch (error: any) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Message was not sent.\",\n                    open: true,\n                    severity: \"info\"\n                })\n            }\n    }\n\n    async function encryptText(messageToEncrypt: any, destinationAddresses: any)\n    {\n        setLoading(true);\n        const signer = await library.getSigner(0);\n        let cids:any = []\n        let recipients = replyAddress.props ? [replyAddress.props].flat() : destinationAddresses.flat()\n        recipients.push(await signer.getAddress())\n        const deb0xContract = Deb0x(signer, deb0xAddress);\n\n        for (let address of recipients) {\n            const destinationAddressEncryptionKey = await getKeyMoralis(address);\n            const encryptedMessage = ethUtil.bufferToHex(\n                Buffer.from(\n                    JSON.stringify(\n                        encrypt({\n                            publicKey: destinationAddressEncryptionKey || '',\n                            data: messageToEncrypt,\n                            version: 'x25519-xsalsa20-poly1305'\n                        }\n                        )\n                    ),\n                    'utf8'\n                )\n            )\n            const message = await client.add(encryptedMessage);\n            cids.push(convertStringToBytes32(message.path))\n        }\n        const from = await signer.getAddress();\n        if(whitelist.includes(from)) {\n            const url = \"https://api.defender.openzeppelin.com/autotasks/b939da27-4a61-4464-8d7e-4b0c5dceb270/runs/webhook/f662ac31-8f56-4b4c-9526-35aea314af63/SPs6smVfv41kLtz4zivxr8\";\n            const forwarder = createInstance(library)\n            const data = deb0xContract.interface.encodeFunctionData(\"send(address[],bytes32[][],address,uint256,uint256)\",\n            [recipients, cids, ethers.constants.AddressZero, 0, 0])\n            const to = deb0xContract.address\n\n            try {\n                const request = await signMetaTxRequest(library, forwarder, { to, from, data }, '100000000000000000');\n                gaEventTracker('Success: send message');\n\n                await fetchSendResult(request, url)\n\n            } catch (error: any) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Message was not sent.\",\n                    open: true,\n                    severity: \"info\"\n                })\n                gaEventTracker('Reject: send message');\n            }\n        } else {\n            await sendMessageTx(deb0xContract, recipients, cids).then(() => gaEventTracker('Sending message'));\n        }\n        \n\n        setTextToEncrypt('');\n        setSenderAddress(\"\");\n        setAddressList([]);\n        setLoading(false);\n    }\n\n    async function initializeDeb0x() {\n        const signer = await library.getSigner(0);\n        const deb0xContract = Deb0x(signer, deb0xAddress);\n        const tx = await deb0xContract.setKey(encryptionKey);\n        const receipt = await tx.wait();\n\n        return receipt.transactionHash;\n    }\n\n    async function getEncryptionKey() {\n        library.provider.request({\n            method: 'eth_getEncryptionPublicKey',\n            params: [account],\n        })\n            .then((result: any) => {\n                setKey(result);\n            });\n    }\n\n    const getPublicEncryptionKey = async () => {\n        const deb0xContract = Deb0x(library, deb0xAddress)\n        const key = await getKeyMoralis(account)\n        setEncryptionKeyInitialized(key || '')\n    }\n    const [editorState, setEditorState] = useState(() => \n        EditorState.createEmpty()\n    );\n\n    const handleEditorChange = (state: any) => {\n        if (senderAddress != '') {\n            isValid(senderAddress);\n        } else {\n            setNotificationState({\n                message: null,\n                severity: \"error\"\n            })\n            setError(null);\n        }\n        setEditorState(state);\n        sendContent();\n    };\n\n    const handleAddressBlur = (state: any) => {\n        if (senderAddress != '') {\n            isValid(senderAddress);\n        } else {\n            setNotificationState({\n                message: null,\n                severity: \"error\"\n            })\n            setError(null);\n        }\n    };\n\n    const sendContent = () => {\n        setTextToEncrypt(draftToHtml(convertToRaw(editorState.getCurrentContent())));\n    };\n\n    const gaEventTracker = useAnalyticsEventTracker('Encrypt');\n\n    return (\n        <>\n            <SnackbarNotification state={notificationState} \n                setNotificationState={setNotificationState} />\n            <div className=\"form-container content-box\">\n                <Box component=\"form\"\n                    noValidate\n                    autoComplete=\"off\">\n                    {!address && \n                        <>\n                            <TextField id=\"standard-basic\"\n                                placeholder=\"Ethereum address (e.g.0x31dc...) or ENS domain name (e.g test.deb0x.eth)\"\n                                value={senderAddress}\n                                onPaste={handlePaste}\n                                onBlur={handleAddressBlur}\n                                onKeyDown={handleKeyDown}\n                                onChange={handleChange} />\n                            <Stack direction=\"row\" spacing={1}>\n                                <Box\n                                    className=\"address-list\">\n                                    {\n                                        addressList.map((address: any) => {\n                                            return (\n                                                <Chip\n                                                    key={address}\n                                                    label={address}\n                                                    onDelete={() => handleDelete(address)}\n                                                    deleteIcon={<DeleteIcon />}\n                                                />\n                                            )\n                                        })\n                                    }\n                                </Box>\n                            </Stack>\n                        </>\n                    }\n                    \n                    <Editor\n                        editorState={editorState}\n                        onEditorStateChange={handleEditorChange}\n                        toolbarClassName=\"toolbar\"\n                        wrapperClassName=\"wrapper\"\n                        editorClassName=\"editor\"\n                        onFocus={() => gaEventTracker(\"Compose message\")}\n                    />\n                        <Box className=\"form-bottom\">\n                            {textToEncrypt == '' || addressList.length === 0 ?\n                                <Box className='rewards'>\n                                    <Typography>\n                                        {/* Estimated rewards: 9.62 DBX */}\n                                    </Typography>\n                                </Box> : \n                                null\n                            }\n                            <LoadingButton className=\"send-btn\" \n                                loading={loading} \n                                endIcon={ loading ? \n                                    null : \n                                    <img src={airplaneBlack} className=\"send-papper-airplane\" alt=\"send-button\"></img>\n                                }\n                                loadingPosition=\"end\"\n                                disabled={textToEncrypt == '' && addressList.length === 0}\n                                onClick={() => {\n                                    encryptText(textToEncrypt, addressList)\n                                }\n                                } >\n                                    Send\n                            </LoadingButton>\n                        </Box>\n                </Box>\n            </div>\n        </>\n    )\n}","var map = {\n\t\"./animal-1.svg\": 900,\n\t\"./animal-10.svg\": 901,\n\t\"./animal-11.svg\": 902,\n\t\"./animal-12.svg\": 903,\n\t\"./animal-13.svg\": 904,\n\t\"./animal-14.svg\": 905,\n\t\"./animal-15.svg\": 906,\n\t\"./animal-16.svg\": 907,\n\t\"./animal-17.svg\": 908,\n\t\"./animal-18.svg\": 909,\n\t\"./animal-19.svg\": 910,\n\t\"./animal-2.svg\": 911,\n\t\"./animal-20.svg\": 912,\n\t\"./animal-21.svg\": 913,\n\t\"./animal-22.svg\": 914,\n\t\"./animal-23.svg\": 915,\n\t\"./animal-24.svg\": 916,\n\t\"./animal-25.svg\": 917,\n\t\"./animal-26.svg\": 918,\n\t\"./animal-27.svg\": 919,\n\t\"./animal-28.svg\": 920,\n\t\"./animal-29.svg\": 921,\n\t\"./animal-3.svg\": 922,\n\t\"./animal-30.svg\": 923,\n\t\"./animal-31.svg\": 924,\n\t\"./animal-32.svg\": 925,\n\t\"./animal-33.svg\": 926,\n\t\"./animal-34.svg\": 927,\n\t\"./animal-35.svg\": 928,\n\t\"./animal-36.svg\": 929,\n\t\"./animal-37.svg\": 930,\n\t\"./animal-38.svg\": 931,\n\t\"./animal-39.svg\": 932,\n\t\"./animal-4.svg\": 933,\n\t\"./animal-40.svg\": 934,\n\t\"./animal-41.svg\": 935,\n\t\"./animal-42.svg\": 936,\n\t\"./animal-43.svg\": 937,\n\t\"./animal-44.svg\": 938,\n\t\"./animal-45.svg\": 939,\n\t\"./animal-46.svg\": 940,\n\t\"./animal-47.svg\": 941,\n\t\"./animal-48.svg\": 942,\n\t\"./animal-49.svg\": 943,\n\t\"./animal-5.svg\": 944,\n\t\"./animal-50.svg\": 945,\n\t\"./animal-6.svg\": 946,\n\t\"./animal-7.svg\": 947,\n\t\"./animal-8.svg\": 948,\n\t\"./animal-9.svg\": 949\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 272;","export default __webpack_public_path__ + \"static/media/cloud-2.38b567a5.svg\";","export default __webpack_public_path__ + \"static/media/cloud-1.ef57dc90.svg\";","export default __webpack_public_path__ + \"static/media/cloud-3.e5323624.svg\";","export default __webpack_public_path__ + \"static/media/airplane-black.e8545508.svg\";","import { ethers } from \"ethers\";\n\nconst { abi } = require(\"./Deb0x.json\");\n\nexport default (signerOrProvider, address) => {\n  return new ethers.Contract(address, abi, signerOrProvider);\n}","import { useState, useEffect } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport Deb0x from \"../../ethereum/deb0x\"\nimport { create } from 'ipfs-http-client';\nimport { Box } from '@mui/material';\nimport { ethers } from \"ethers\";\nimport SnackbarNotification from './Snackbar';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport '../../componentsStyling/encrypt.scss';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport airplaneBlack from '../../photos/icons/airplane-black.svg';\nimport {getKeyMoralis} from \"../../ethereum/EventLogsMoralis\";\nimport { signMetaTxRequest } from '../../ethereum/signer';\nimport { createInstance } from '../../ethereum/forwarder'\nimport dataFromWhitelist from '../../constants.json';\nimport { convertStringToBytes32} from '../../ethereum/Converter.js';\nimport '../../componentsStyling/mint.scss';\nimport axios, { Method } from 'axios';\nimport web3 from 'web3';\n\nconst { BigNumber } = require(\"ethers\");\nconst deb0xAddress = \"0xA06735da049041eb523Ccf0b8c3fB9D36216c646\";\nconst { whitelist } = dataFromWhitelist;\n\nconst projectId = process.env.REACT_APP_PROJECT_ID\nconst projectSecret = process.env.REACT_APP_PROJECT_SECRET\nconst projectIdAndSecret = `${projectId}:${projectSecret}`\n\nconst client = create({\n    host: 'ipfs.infura.io',\n    port: 5001,\n    protocol: 'https',\n    headers: {\n        authorization: `Basic ${Buffer.from(projectIdAndSecret).toString(\n            'base64'\n        )}`,\n    },\n})\n\n\nexport function Mint(): any {\n    const { account, library } = useWeb3React()\n    const [encryptionKey, setKey] = useState('')\n    const [textToEncrypt, setTextToEncrypt] = useState('')\n    const [encryptionKeyInitialized, setEncryptionKeyInitialized] = useState('')\n    const [notificationState, setNotificationState] = useState({})\n    const [messageSessionSentCounter, setMessageSessionSentCounter] = useState(0)\n    const [loading, setLoading] = useState(false)\n    const [addressList, setAddressList] = useState<string[]>([])\n    const [address, setAddress] = useState<string>();\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        if (!encryptionKeyInitialized) {\n            getPublicEncryptionKey()\n        }\n    }, []);\n\n    useEffect(() => {\n        if (count > 512) {\n            setCount(512)\n        }\n        if (count < 0 ) {\n            setCount(1)\n        }\n    }, [count])\n\n    async function fetchSendResult(request: any, url: any) {\n        await fetch(url, {\n            method: 'POST',\n            body: JSON.stringify(request),\n            headers: { 'Content-Type': 'application/json' },\n        })\n            .then((response) => response.json())\n            .then(async (data) => {\n                try{\n                    const {tx: txReceipt} = JSON.parse(data.result)\n                    if(txReceipt.status == 1){\n                        setNotificationState({\n                            message: \"Message was succesfully sent.\",\n                            open: true,\n                            severity: \"success\"\n                        })\n    \n                        let count = messageSessionSentCounter + 1;\n                        setMessageSessionSentCounter(count);\n                    } else {\n                        setNotificationState({\n                            message: \"Message couldn't be sent!\",\n                            open: true,\n                            severity: \"error\"\n                        })\n                    }\n                } catch(error) {\n                    if(data.status == \"pending\") {\n                        setNotificationState({\n                            message: \"Your transaction is pending. Your message should arrive shortly\",\n                            open: true,\n                            severity: \"info\"\n                        })\n                    } else if(data.status == \"error\") {\n                        setNotificationState({\n                            message: \"Transaction relayer error. Please try again\",\n                            open: true,\n                            severity: \"error\"\n                        })\n                    }\n                }\n                \n            })\n    }\n\n    async function getCurrentPrice(){\n        let method: Method = 'POST';\n        const options = {\n            method: method,\n            url: 'https://polygon-mainnet.infura.io/v3/6010818c577b4531b1886965421a91d3 ',\n            port: 443,\n            headers: {\n                'Content-Type': 'application/json'\n              },\n            data: JSON.stringify({\n                \"jsonrpc\":\"2.0\",\"method\":\"eth_gasPrice\",\"params\": [],\"id\":1\n              })\n        };\n\n        let requestValue = await axios.request(options)\n        return web3.utils.fromWei(requestValue.data.result.toString(), \"Gwei\")\n    }\n\n    async  function estimationValue(gasLimitIntervalValue: number){\n        let price = Number(await getCurrentPrice());\n        let fee = gasLimitIntervalValue * price * 0.1 / 1000000000;\n        return fee;\n    }\n    \n    async function sendMessageTx(deb0xContract: any, recipients: any, cids: any) {\n        let gasLimitIntervalValue = BigNumber.from(\"1000000\");\n        if(count > 99 && count < 200){\n             gasLimitIntervalValue = BigNumber.from(\"2000000\");\n        }\n\n        if(count > 199 && count < 300){\n            gasLimitIntervalValue = BigNumber.from(\"3000000\");\n       }\n\n       if(count > 299 && count < 400){\n        gasLimitIntervalValue = BigNumber.from(\"4000000\");\n        }\n\n        if(count > 399 && count < 513){\n            gasLimitIntervalValue = BigNumber.from(\"5000000\");\n        }\n       let value = await estimationValue(gasLimitIntervalValue);\n\n        try {\n            const overrides = \n                { value: ethers.utils.parseUnits(value.toString(), \"ether\"),\n                    gasLimit:gasLimitIntervalValue }\n            const tx = await deb0xContract[\"send(address[],bytes32[][],address,uint256,uint256)\"](recipients,\n                cids,\n                ethers.constants.AddressZero,\n                0,\n                0,\n                overrides)\n\n            await tx.wait()\n                .then((result: any) => {\n                    setNotificationState({\n                        message: \"Message was succesfully sent.\",\n                        open: true,\n                        severity: \"success\"\n                    })\n\n                    let count = messageSessionSentCounter + 1;\n                    setMessageSessionSentCounter(count);\n                    setAddressList([\"0x31dcF3b5F43e7017425E25E5A0F006B6f065c349\"])\n                })\n                .catch((error: any) => {\n                    setNotificationState({\n                        message: \"Message couldn't be sent!\",\n                        open: true,\n                        severity: \"error\"\n                    })\n                })\n            } catch (error: any) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Message was not sent.\",\n                    open: true,\n                    severity: \"info\"\n                })\n            }\n    }\n\n    async function encryptText()\n    {\n        setLoading(true);\n        let deb0xBot = \"0x31dcF3b5F43e7017425E25E5A0F006B6f065c349 \";\n        let cid = \"QmfFkrwDFSHGh7mwV3kfnUQRCsihxEkkhkVXwrXrdhLURo\"\n        let duplicate = deb0xBot.repeat(count);\n        let spliting = duplicate.split(' ');\n        spliting.pop();\n        spliting.flat();\n        let bytes32Array = convertStringToBytes32(cid);\n        let cids = new Array(Number(count)+Number(1)).fill(bytes32Array)\n\n        const signer = await library.getSigner(0);\n        let recipients:any = [];\n        recipients.push(await signer.getAddress());\n        spliting.forEach(elemnet =>{\n            recipients.push(elemnet);\n        })\n \n        const deb0xContract = Deb0x(signer, deb0xAddress);\n        const from = await signer.getAddress();\n        if(whitelist.includes(from)) {\n            const url = \"https://api.defender.openzeppelin.com/autotasks/b939da27-4a61-4464-8d7e-4b0c5dceb270/runs/webhook/f662ac31-8f56-4b4c-9526-35aea314af63/SPs6smVfv41kLtz4zivxr8\";\n            const forwarder = createInstance(library)\n            const data = deb0xContract.interface.encodeFunctionData(\"send(address[],bytes32[][],address,uint256,uint256)\",\n            [recipients, cids, ethers.constants.AddressZero, 0, 0])\n            const to = deb0xContract.address\n\n            try {\n                const request = await signMetaTxRequest(library, forwarder, { to, from, data }, '100000000000000000');\n\n                await fetchSendResult(request, url)\n\n            } catch (error: any) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Message was not sent.\",\n                    open: true,\n                    severity: \"info\"\n                })\n            }\n        } else {\n            await sendMessageTx(deb0xContract, recipients, cids);\n        }\n        \n        setTextToEncrypt('');\n        setAddressList([]);\n        setLoading(false);\n    }\n\n    const getPublicEncryptionKey = async () => {\n        const deb0xContract = Deb0x(library, deb0xAddress)\n        const key = await getKeyMoralis(account)\n        setEncryptionKeyInitialized(key || '')\n    }\n\n    const handleInputChange = (e: any)=>{\n        if(count > 512) {\n            setCount(512)\n        } else {\n            setCount(e.target.value);\n        }\n    }\n\n    const incNum = () => {\n        if(count < 512)\n            setCount(Number(count)+1);\n    };\n\n    const decNum = () => {\n        if(count > 0)\n            setCount(count - 1);\n    }\n\n    let dummyMessage = \"This is dummy text sent to one of the founding team's addresses. It's purpose is to allow deb0x adopters to mint DBX. \" +\n        \"\\r\\n\" +\n        \"\\r\\n\" +\n        \"Note that sending batches of messages for minting pruposes might take a while (benchmarks say several minutes... \" + \n        \"depending on how busy is the chain).. Thus, please have a seat and enjoy whatever activity you like while the system mints your DBX.\"\n    return (\n        <>\n            <SnackbarNotification state={notificationState} \n                setNotificationState={setNotificationState} />\n            <div className=\"form-container content-box\">\n                <Box component=\"form\"\n                    noValidate\n                    autoComplete=\"off\">\n                    <div className=\"row mint-header\">\n                        <button className=\"btn count-btn col\" type=\"button\" onClick={decNum}>-</button>\n                        <div className=\"col input-col\">\n                            <input type=\"number\" value={count} max=\"512\" onChange={handleInputChange}/>\n                        </div>\n                        <button className=\"btn count-btn col\" type=\"button\" onClick={incNum}>+</button>\n                        <button className=\"btn count-btn  max-btn col\" type=\"button\" onClick={() => setCount(512)}>MAX</button>\n                    </div>\n                    \n                    <textarea disabled \n                        value={dummyMessage}\n                        rows={10}\n                    />\n                        \n                        <Box className=\"form-bottom mint-bottom\">\n                            <LoadingButton className=\"send-btn\" \n                                loading={loading} \n                                loadingPosition=\"end\"\n                                onClick={() => encryptText()} >\n                                    Mint\n                            </LoadingButton>\n                        </Box>\n                </Box>\n            </div>\n        </>\n    )\n}","import { CatchingPokemonSharp, CollectionsOutlined, ContactSupportOutlined } from '@mui/icons-material';\nimport axios from 'axios';\nlet { ethers } = require(\"ethers\");\nconst Web3 = require('web3');\nconst web3 = new Web3();\nconst deb0xAddress = \"0xA06735da049041eb523Ccf0b8c3fB9D36216c646\";\nlet { convertBytes32ToString } = require('./Converter.js')\nlet moralisKey = process.env.REACT_APP_MORALIS_KEY;\n\nasync function setKeyEvent(secondaryTopic) {\n\n    let data = selectEvent('KeySet');\n\n    const options = {\n        method: 'GET',\n        url: `https://deep-index.moralis.io/api/v2/${deb0xAddress}/logs`,\n        params: {\n            chain: 'polygon',\n            from_block: '36051352',\n            topic0: data.topic,\n            topic1: secondaryTopic,\n            limit: 500\n        },\n        headers: {\n            accept: 'application/json',\n            'content-type': 'application/json',\n            'X-API-Key': moralisKey\n        },\n        data: data.abi\n    };\n\n    let requestValue = await axios.request(options)\n    return requestValue.data.result;\n}\n\nasync function getAllEventsWithSecondaryTopic(secondaryTopic, cursor) {\n\n    let data = selectEvent('Sent');\n\n    const options = {\n        method: 'GET',\n        url: `https://deep-index.moralis.io/api/v2/${deb0xAddress}/logs`,\n        params: {\n            chain: 'polygon',\n            from_block: '36051352',\n            topic0: data.topic,\n            topic1: secondaryTopic,\n            cursor: cursor,\n            limit: 500\n        },\n        headers: {\n            accept: 'application/json',\n            'content-type': 'application/json',\n            'X-API-Key': moralisKey\n        },\n        data: data.abi\n    };\n    let requestValue = await axios.request(options)\n\n    return requestValue.data;\n}\n\nasync function fetchMessagesWithSecondaryAndThirdTopic(secondaryTopic, thirdTopic, cursor) {\n\n    let data = selectEvent('Sent');\n\n    const options = {\n        method: 'GET',\n        url: `https://deep-index.moralis.io/api/v2/${deb0xAddress}/logs`,\n        params: {\n            chain: 'polygon',\n            from_block: '36051352',\n            topic0: data.topic,\n            topic1: secondaryTopic,\n            topic2: thirdTopic,\n            cursor: cursor,\n            limit: 500\n        },\n        headers: {\n            accept: 'application/json',\n            'content-type': 'application/json',\n            'X-API-Key': moralisKey\n        },\n        data: data.abi\n    };\n    let requestValue = await axios.request(options)\n    return requestValue.data;\n}\n\nasync function getSentMessageEvents(thirdTopic, cursor) {\n    let data = selectEvent('Sent');\n\n    const options = {\n        method: 'GET',\n        url: `https://deep-index.moralis.io/api/v2/${deb0xAddress}/logs`,\n        params: {\n            chain: 'polygon',\n            from_block: '36051352',\n            topic0: data.topic,\n            topic2: thirdTopic,\n            cursor: cursor,\n            limit: 500\n        },\n        headers: {\n            accept: 'application/json',\n            'content-type': 'application/json',\n            'X-API-Key': moralisKey\n        },\n        data: data.abi\n    };\n    let requestValue = await axios.request(options)\n    return requestValue.data;\n}\n\nasync function setKeyAllEvents(cursor) {\n\n    let data = selectEvent('KeySet');\n\n    const options = {\n        method: 'GET',\n        url: `https://deep-index.moralis.io/api/v2/${deb0xAddress}/logs`,\n        params: {\n            chain: 'polygon',\n            from_block: '36051352',\n            topic0: data.topic,\n            cursor: cursor,\n            limit: 500\n        },\n        headers: {\n            accept: 'application/json',\n            'content-type': 'application/json',\n            'X-API-Key': moralisKey\n        },\n        data: data.abi\n    };\n\n    let requestValue = await axios.request(options)\n    return requestValue.data;\n}\n\n\nfunction selectEvent(name) {\n    let abi, topic;\n    switch (name) {\n        case 'Sent':\n            topic = \"0xa33bc9a10d8f3a335b59663beb6a02681748ac0b3db1251c7bb08f3e99dd0bb4\";\n            abi = {\n                \"anonymous\": false,\n                \"inputs\": [{\n                        \"indexed\": true,\n                        \"internalType\": \"address\",\n                        \"name\": \"to\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"indexed\": true,\n                        \"internalType\": \"address\",\n                        \"name\": \"from\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"indexed\": true,\n                        \"internalType\": \"bytes32\",\n                        \"name\": \"hash\",\n                        \"type\": \"bytes32\"\n                    },\n                    {\n                        \"indexed\": false,\n                        \"internalType\": \"uint256\",\n                        \"name\": \"sentId\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"indexed\": false,\n                        \"internalType\": \"uint256\",\n                        \"name\": \"timestamp\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"indexed\": false,\n                        \"internalType\": \"bytes32[]\",\n                        \"name\": \"content\",\n                        \"type\": \"bytes32[]\"\n                    }\n                ],\n                \"name\": \"Sent\",\n                \"type\": \"event\"\n            }\n            break;\n        case 'KeySet':\n            topic = \"0x8e06b8416b712e88dc5bdfc009fcc4de46c26bf894cd73d9a855ceb8170ea78d\";\n            abi = {\n                \"anonymous\": false,\n                \"inputs\": [{\n                        \"indexed\": true,\n                        \"internalType\": \"address\",\n                        \"name\": \"to\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"indexed\": true,\n                        \"internalType\": \"bytes32\",\n                        \"name\": \"value\",\n                        \"type\": \"bytes32\"\n                    }\n                ],\n                \"name\": \"KeySet\",\n                \"type\": \"event\"\n            }\n\n    }\n    return { abi, topic };\n}\n\nexport async function getKeyMoralis(to) {\n    let secondaryTopics = '0x000000000000000000000000' + to.slice(2);\n    let result = ''\n    await setKeyEvent(secondaryTopics).then((events) => {\n        if (events.length != 0) {\n            for (let i = 0; i < events.length; i++) {\n                if (events[i].topic1.toLowerCase() === secondaryTopics.toLowerCase()) {\n                    result = ethers.utils.base64.encode(ethers.utils.arrayify(events[i].topic2));\n                } else {\n                    result = '';\n                }\n            }\n        } else\n        result = '';\n    })\n    \n    return result;\n}\n\nexport async function fetchMessageSendersMoralis(account) {\n    let secondaryTopics = '0x000000000000000000000000' + account.slice(2);\n    let events = [];\n    let cursor = null;\n    events = await getAllEventsWithSecondaryTopic(secondaryTopics, cursor);\n    let newEvents = events.result;\n    cursor = events.cursor;\n    while (cursor != \"\" && cursor != null) {\n        events = await getAllEventsWithSecondaryTopic(secondaryTopics, cursor);\n        cursor = events.cursor;\n        events.result.forEach(element => {\n            newEvents.push(element)\n        })\n    }\n    let messageSenders = newEvents.filter(element => (element.topic1.toLowerCase() === secondaryTopics.toLowerCase()) &&\n        (secondaryTopics.toLowerCase() != element.topic2.toLowerCase())).map(element => '0x' + element.topic2.slice(26));\n    return messageSenders\n}\n\nexport async function fetchMessagesMoralis(to, from) {\n    let secondaryTopic = '0x000000000000000000000000' + to.slice(2);\n    let thirdTopic = '0x000000000000000000000000' + from.slice(2);\n    let events = [];\n    let cursor = null;\n    events = await fetchMessagesWithSecondaryAndThirdTopic(secondaryTopic, thirdTopic, cursor);\n    let newEvents = events.result;\n    cursor = events.cursor;\n    while (cursor != \"\" && cursor != null) {\n        events = await fetchMessagesWithSecondaryAndThirdTopic(secondaryTopic, thirdTopic, cursor);\n        cursor = events.cursor;\n        events.result.forEach(element => {\n            newEvents.push(element)\n        })\n    }\n    const typesArray = [\n        { type: 'uint256', name: 'sentId' },\n        { type: 'uint256', name: 'timestamp' },\n        { type: 'bytes32[]', name: 'content' },\n    ];\n    let returnedData = [];\n    let argumentsArray = [];\n    let contentValue = '';\n    for (let i = 0; i < newEvents.length; i++) {\n        let dataAboutEvent = web3.eth.abi.decodeParameters(typesArray, newEvents[i].data);\n        argumentsArray.push(ethers.utils.arrayify(dataAboutEvent[2][0]))\n        argumentsArray.push(ethers.utils.arrayify(ethers.utils.stripZeros(dataAboutEvent[2][1])))\n        contentValue = convertBytes32ToString(argumentsArray);\n        returnedData.push({ \"content\": contentValue, \"timestamp\": dataAboutEvent[1] });\n        argumentsArray = [];\n        contentValue = '';\n    }\n    return returnedData;\n}\n\nexport async function fetchSentMessagesMoralis(from) {\n    let thirdTopic = '0x000000000000000000000000' + from.slice(2);\n    let events = [];\n    let cursor = null;\n    events = await getSentMessageEvents(thirdTopic, cursor);\n    let newEvents = events.result;\n    cursor = events.cursor;\n    while (cursor != \"\" && cursor != null) {\n        events = await getSentMessageEvents(thirdTopic, cursor);\n        cursor = events.cursor;\n        events.result.forEach(element => {\n            newEvents.push(element)\n        })\n    }\n\n    const typesArray = [\n        { type: 'uint256', name: 'sentId' },\n        { type: 'uint256', name: 'timestamp' },\n        { type: 'bytes32[]', name: 'content' },\n    ];\n    let mapForRecipients = new Map();\n    let mapForEnvelope = new Map();\n    let argumentsArray = [];\n    let contentValue = '';\n    let cidDeb0xBot = \"QmfFkrwDFSHGh7mwV3kfnUQRCsihxEkkhkVXwrXrdhLURo\"\n    for (let i = 0; i < newEvents.length; i++) {\n        let dataAboutEvent = web3.eth.abi.decodeParameters(typesArray, newEvents[i].data);\n        argumentsArray.push(ethers.utils.arrayify(dataAboutEvent[2][0]))\n        argumentsArray.push(ethers.utils.arrayify(ethers.utils.stripZeros(dataAboutEvent[2][1])))\n        contentValue = convertBytes32ToString(argumentsArray);\n        if (contentValue.toLowerCase() != cidDeb0xBot.toLowerCase()) {\n            if (mapForRecipients.has(dataAboutEvent[0])) {\n                let value = mapForRecipients.get(dataAboutEvent[0]);\n                value.push('0x' + newEvents[i].topic1.slice(26));\n                mapForRecipients.set(dataAboutEvent[0], value);\n                if (newEvents[i].topic1.toLowerCase() === thirdTopic.toLowerCase()) {\n                    mapForEnvelope.set(dataAboutEvent[0], { \"timestamp\": dataAboutEvent[1], \"content\": contentValue })\n                }\n            } else {\n                mapForRecipients.set(dataAboutEvent[0], ['0x' + newEvents[i].topic1.slice(26)])\n                if (newEvents[i].topic1.toLowerCase() === thirdTopic.toLowerCase()) {\n                    mapForEnvelope.set(dataAboutEvent[0], { \"timestamp\": dataAboutEvent[1], \"content\": contentValue })\n                }\n            }\n        }\n        argumentsArray = [];\n        contentValue = '';\n    }\n    let arrayOfRecipients = [];\n    let arrrayOfEnvelope = [];\n    let allData = [];\n    arrayOfRecipients = Array.from(mapForRecipients.values());\n    for (const [key, value] of mapForEnvelope) {\n        arrrayOfEnvelope.push({ \"content\": value.content, \"timestamp\": value.timestamp });\n    }\n    for (let i = 0; i < arrayOfRecipients.length; i++) {\n        allData[i] = [\n            [{ \"recipients\": arrayOfRecipients[i] }],\n            [{ \"contentData\": arrrayOfEnvelope[i] }]\n        ];\n    }\n    return allData;\n}\n\nexport async function getInitializedAddresses() {\n    let events = [];\n    let cursor = null;\n    events = await setKeyAllEvents(cursor);\n    let newEvents = [];\n    events.result.forEach(element => {\n        let data = element.topic1;\n        let address = '0x' + data.slice(26);\n        if(!newEvents.includes(address))\n            newEvents.push(address)\n    })\n    cursor = events.cursor;\n    while (cursor != \"\" && cursor != null) {\n        events = await setKeyAllEvents(cursor);\n        cursor = events.cursor;\n        events.result.forEach(element => {\n            let data = element.topic1;\n            let address = '0x' + data.slice(26);\n            if(!newEvents.includes(address))\n                newEvents.push(address)\n        })\n    }\n\n    return newEvents;\n}","import { useState, forwardRef, useEffect } from 'react'\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert, { AlertProps } from '@mui/material/Alert';\n\nconst Alert = forwardRef<HTMLDivElement, AlertProps>(function Alert(\n  props,\n  ref,\n) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nexport default function SnackbarNotification(props: any) {\n\n  const [state, setState] = useState({ severity: props.state.severity, open: props.state.open, message: props.state.message })\n\n  useEffect(() => {\n    setState({severity: props.state.severity, open: props.state.open, message: props.state.message})\n  }, [props])\n\n  const handleClose = (event?: React.SyntheticEvent | Event, reason?: string) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setState({\n      message: state.message, open: false,\n      severity: state.severity\n    })\n  };\n\n  return (\n    <Snackbar open={state.open} autoHideDuration={6000} onClose={handleClose}>\n      <Alert onClose={handleClose} severity={state.severity} sx={{ width: '100%' }}>\n        {state.message}\n      </Alert>\n    </Snackbar>\n  )\n}","import ReactGA from \"react-ga\";\n\nexport default function useAnalyticsEventTracker(category: string) {\n    const eventTracker = (action: string) => {\n      ReactGA.event({category, action});\n    }\n    return eventTracker;\n}","const ethSigUtil = require('eth-sig-util');\n\nconst ethers = require('ethers')\n\nconst ethereumJsUtil = require('ethereumjs-util')\n\nconst GENERIC_PARAMS = 'address from,address to,uint256 value,uint256 gas,uint256 nonce,bytes data,uint256 validUntilTime'\nconst typeName = `ForwardRequest(${GENERIC_PARAMS})`\nconst typeHash = ethers.utils.id(typeName)\n\nconst EIP712Domain = [\n    { name: 'name', type: 'string' },\n    { name: 'version', type: 'string' },\n    { name: 'chainId', type: 'uint256' },\n    { name: 'verifyingContract', type: 'address' }\n];\n\nconst ForwardRequest = [\n    { name: 'from', type: 'address' },\n    { name: 'to', type: 'address' },\n    { name: 'value', type: 'uint256' },\n    { name: 'gas', type: 'uint256' },\n    { name: 'nonce', type: 'uint256' },\n    { name: 'data', type: 'bytes' },\n    { name: 'validUntilTime', type: 'uint256' }\n];\n\nfunction getMetaTxTypeData(chainId, verifyingContract) {\n    return {\n        types: {\n            EIP712Domain,\n            ForwardRequest,\n        },\n        domain: {\n            name: 'Forwarder',\n            version: '0.0.1',\n            chainId,\n            verifyingContract,\n        },\n        primaryType: 'ForwardRequest',\n    }\n};\n\nasync function signTypedData(signer, from, data) {\n    const [method, argData] = ['eth_signTypedData_v4', JSON.stringify(data)]\n    return await signer.send(method, [from, argData]);\n}\n\nasync function buildRequest(forwarder, input, valueParam) {\n    const value = valueParam ? valueParam : '0';\n    const nonce = await forwarder.getNonce(input.from).then(nonce => nonce.toString());\n    return { value, gas: '100000', nonce, validUntilTime: '0', ...input };\n}\n\nasync function buildTypedData(forwarder, request) {\n    const chainId = await forwarder.provider.getNetwork().then(n => n.chainId);\n    const typeData = getMetaTxTypeData(chainId, forwarder.address);\n    return {...typeData, message: request };\n}\n\nasync function getDomainSeparator(forwarder) {\n    const chainId = await forwarder.provider.getNetwork().then(n => n.chainId);\n    const typeData = getMetaTxTypeData(chainId, forwarder.address);\n    return ethereumJsUtil.bufferToHex(ethSigUtil.TypedDataUtils.hashStruct('EIP712Domain', typeData.domain, { EIP712Domain }, 'V4'))\n}\n\nexport async function signMetaTxRequest(signer, forwarder, input, value) {\n    const request = await buildRequest(forwarder, input, value);\n    const toSign = await buildTypedData(forwarder, request);\n    const signature = await signTypedData(signer, input.from, toSign);\n    const domainSeparator = await getDomainSeparator(forwarder)\n    return { typeHash, domainSeparator, signature, request };\n}","import { ethers } from 'ethers';\nimport { Forwarder as address } from '../deploy.json';\n\nconst { abi } = require(\"./Forwarder.json\");\n\nexport function createInstance(provider) {\n  return new ethers.Contract(address, abi, provider);\n}\n","export default __webpack_public_path__ + \"static/media/animal-1.ce0a7c89.svg\";","export default __webpack_public_path__ + \"static/media/animal-10.1ec63741.svg\";","export default __webpack_public_path__ + \"static/media/animal-11.60d27046.svg\";","export default __webpack_public_path__ + \"static/media/animal-12.96b14f32.svg\";","export default __webpack_public_path__ + \"static/media/animal-13.cc352efd.svg\";","export default __webpack_public_path__ + \"static/media/animal-14.c036bd2f.svg\";","export default __webpack_public_path__ + \"static/media/animal-15.f66fd334.svg\";","export default __webpack_public_path__ + \"static/media/animal-16.f1d1c8e7.svg\";","export default __webpack_public_path__ + \"static/media/animal-17.54c2921c.svg\";","export default __webpack_public_path__ + \"static/media/animal-18.a79f5287.svg\";","export default __webpack_public_path__ + \"static/media/animal-19.4e1f038c.svg\";","export default __webpack_public_path__ + \"static/media/animal-2.3cbc9f33.svg\";","export default __webpack_public_path__ + \"static/media/animal-20.582e64c1.svg\";","export default __webpack_public_path__ + \"static/media/animal-21.f994a910.svg\";","export default __webpack_public_path__ + \"static/media/animal-22.614f36ff.svg\";","export default __webpack_public_path__ + \"static/media/animal-23.fe8cb713.svg\";","export default __webpack_public_path__ + \"static/media/animal-24.14d93b91.svg\";","export default __webpack_public_path__ + \"static/media/animal-25.f89249c7.svg\";","export default __webpack_public_path__ + \"static/media/animal-26.eadc71e3.svg\";","export default __webpack_public_path__ + \"static/media/animal-27.bf6ff131.svg\";","export default __webpack_public_path__ + \"static/media/animal-28.09ad8851.svg\";","export default __webpack_public_path__ + \"static/media/animal-29.c4891a44.svg\";","export default __webpack_public_path__ + \"static/media/animal-3.b9cd90a5.svg\";","export default __webpack_public_path__ + \"static/media/animal-30.32b79d90.svg\";","export default __webpack_public_path__ + \"static/media/animal-31.cbbd4ac7.svg\";","export default __webpack_public_path__ + \"static/media/animal-32.dd4496ad.svg\";","export default __webpack_public_path__ + \"static/media/animal-33.bf71ffc1.svg\";","export default __webpack_public_path__ + \"static/media/animal-34.a42b2762.svg\";","export default __webpack_public_path__ + \"static/media/animal-35.05a0f752.svg\";","export default __webpack_public_path__ + \"static/media/animal-36.87183ca8.svg\";","export default __webpack_public_path__ + \"static/media/animal-37.601a5569.svg\";","export default __webpack_public_path__ + \"static/media/animal-38.7c8e43d8.svg\";","export default __webpack_public_path__ + \"static/media/animal-39.a19f4cd1.svg\";","export default __webpack_public_path__ + \"static/media/animal-4.3b05a1a7.svg\";","export default __webpack_public_path__ + \"static/media/animal-40.81b1b2fa.svg\";","export default __webpack_public_path__ + \"static/media/animal-41.98e86830.svg\";","export default __webpack_public_path__ + \"static/media/animal-42.db86b736.svg\";","export default __webpack_public_path__ + \"static/media/animal-43.1b46c38c.svg\";","export default __webpack_public_path__ + \"static/media/animal-44.b84c6b0e.svg\";","export default __webpack_public_path__ + \"static/media/animal-45.b167c63d.svg\";","export default __webpack_public_path__ + \"static/media/animal-46.42d27fee.svg\";","export default __webpack_public_path__ + \"static/media/animal-47.b5150579.svg\";","export default __webpack_public_path__ + \"static/media/animal-48.e200a64c.svg\";","export default __webpack_public_path__ + \"static/media/animal-49.b1bca8d7.svg\";","export default __webpack_public_path__ + \"static/media/animal-5.05a5a1db.svg\";","export default __webpack_public_path__ + \"static/media/animal-50.eb779e9c.svg\";","export default __webpack_public_path__ + \"static/media/animal-6.85ab4489.svg\";","export default __webpack_public_path__ + \"static/media/animal-7.43eccf57.svg\";","export default __webpack_public_path__ + \"static/media/animal-8.ca62010f.svg\";","export default __webpack_public_path__ + \"static/media/animal-9.cfc3406b.svg\";","export default __webpack_public_path__ + \"static/media/theme-switch-dark.353b7e29.svg\";","export default __webpack_public_path__ + \"static/media/theme-switch-light.25eb78db.svg\";","\nimport { InjectedConnector } from '@web3-react/injected-connector'\nimport { NetworkConnector } from '@web3-react/network-connector'\n\n// const POLLING_INTERVAL = 12000\nconst RPC_URLS: { [chainId: number]: string } = {\n    137: 'https://polygon-mainnet.g.alchemy.com/v2/qthz4_6kfuPquCG5N1A6v5Waz9YW0pNZ'\n}\n\nexport const injected = new InjectedConnector({ supportedChainIds: [137] })\n\nexport const network = new NetworkConnector({\n    urls: { 137: RPC_URLS[137] },\n    defaultChainId: 137\n  })","import { useState, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\n\nimport { injected } from './connectors'\n\nexport function useEagerConnect() {\n  const { activate, active } = useWeb3React()\n\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    injected.isAuthorized().then((isAuthorized: boolean) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        setTried(true)\n      }\n    })\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (!tried && active) {\n      setTried(true)\n    }\n  }, [tried, active])\n\n  return tried\n}\n\nexport function useInactiveListener(suppress: boolean = false) {\n  const { active, error, activate } = useWeb3React()\n\n  useEffect((): any => {\n    const { ethereum } = window as any\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleConnect = () => {\n        activate(injected)\n      }\n      const handleChainChanged = (chainId: string | number) => {\n        activate(injected)\n      }\n      const handleAccountsChanged = (accounts: string[]) => {\n        if (accounts.length > 0) {\n          activate(injected)\n        }\n      }\n      const handleNetworkChanged = (networkId: string | number) => {\n        activate(injected)\n      }\n\n      ethereum.on('connect', handleConnect)\n      ethereum.on('chainChanged', handleChainChanged)\n      ethereum.on('accountsChanged', handleAccountsChanged)\n      ethereum.on('networkChanged', handleNetworkChanged)\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('connect', handleConnect)\n          ethereum.removeListener('chainChanged', handleChainChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\n        }\n      }\n    }\n  }, [active, error, suppress, activate])\n}","export default __webpack_public_path__ + \"static/media/ios-compose.9c72b916.svg\";","export default __webpack_public_path__ + \"static/media/trophy.2c553cfd.svg\";","export default __webpack_public_path__ + \"static/media/coins-solid.8cd877bf.svg\";","export default __webpack_public_path__ + \"static/media/users-solid.bc4ecd87.svg\";","import { createContext } from \"react\";\n\nexport const initialContacts = {\n    contacts: [{\n        name: \"Deb0x Bot\",\n        address: \"0x31dcF3b5F43e7017425E25E5A0F006B6f065c349\"\n    }],\n    setContacts: (_values: any) => {}\n}\n\nconst ContactsContext = createContext(initialContacts);\nexport default ContactsContext;\n","import { Add, SettingsPhoneTwoTone } from \"@mui/icons-material\";\nimport { Box, IconButton, Modal } from \"@mui/material\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport SnackbarNotification from '../components/App/Snackbar';\n\n\nimport ContactsContext from \"./Contexts/ContactsContext\";\n\nexport default function ContactsSetter(props: any) {\n    const useContacts = () => useContext(ContactsContext);\n    const { contacts, setContacts } = useContacts()!;\n    const [name, setName] = useState<string>(\"\");\n    const [address, setAddress] = useState<string>(props.props);\n    const ref = useRef<any>(null);\n    const { onClickOutside } = props;\n    const [theme, setTheme] = useState(localStorage.getItem('globalTheme'));\n    const [notificationState, setNotificationState] = useState({})\n    const addressInput =  useRef<any>();\n    var found: any;\n\n    const addContact = () => {  \n        const addressValue = addressInput.current.value.toLowerCase()\n        found = contacts.some(e => e.address.toLowerCase() === addressValue)\n        if (!found) {\n            if (!isAddress(addressValue)) {\n                setNotificationState({\n                    message: `${addressValue} is not a valid ethereum address.`, open: true,\n                    severity: \"error\"\n                })\n            } else {\n                contacts.push({name: name, address: addressValue});\n                setContacts([...contacts])\n                onClickOutside && onClickOutside();\n            }\n        } else {\n            setNotificationState({\n                message: \"This address is already saved\", open: true,\n                severity: \"error\"\n            })\n        }\n    }\n\n    function isAddress(address: any) {\n        return ethers.utils.isAddress(address);\n    }\n\n    function handleOnCancel() {\n        onClickOutside && onClickOutside();\n    }\n\n    useEffect(() => {\n        setTheme(localStorage.getItem('globalTheme'));\n    });\n\n    useEffect(() => {\n        localStorage.setItem('contacts', JSON.stringify(contacts));\n    }, [contacts, localStorage]);\n\n    useEffect(() => {\n        const handleClickOutside = (event: any) => {\n            if (ref.current && !ref.current.contains(event.target)) {\n                onClickOutside && onClickOutside();\n            }\n        };\n        document.addEventListener('click', handleClickOutside, true);\n        return () => {\n            document.removeEventListener('click', handleClickOutside, true);\n        };\n    }, [ onClickOutside ]);\n\n    return (\n        <>\n            <SnackbarNotification state={notificationState} \n                setNotificationState={setNotificationState} />\n            <Modal open={props.show}>\n                <Box ref={ref} className={`modal-box ${theme === \"classic\" ? \"classic\" : \"dark\"}` }>\n                    <form>\n                        <div className=\"add-contact-text\">Add Contact</div>\n                        <div className=\"form-group for-field\">\n                            <label className=\"for-label\">Name</label>\n                            <input key=\"name\" className=\"form-control inputs\" placeholder=\"Type here\"\n                                onChange={(e) => setName(e.currentTarget.value)}/>\n                        </div>\n                        <div className=\"form-group for-field\">\n                            <label className=\"for-label\">Address</label>\n                            { address ?\n                                <input ref={addressInput} readOnly key=\"address\" className=\"form-control inputs\"\n                                    value={address}/> :\n                                <input  ref={addressInput} key=\"address\" className=\"form-control inputs\" placeholder=\"Type here\" />\n                            }\n                        </div>\n                        <div className=\"buttons-container\">\n                            <button className=\"btn mt-3 cancel-button\" type=\"button\"\n                                onClick={() => handleOnCancel()}>\n                                Cancel\n                            </button>\n                            <button className=\"btn mt-3 add-button\" type=\"button\"\n                                onClick={addContact}>\n                                ADD\n                            </button>\n                        </div>\n                    </form>\n                </Box>\n            </Modal>\n        </>\n    );\n}","import { useState, useEffect, useContext } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport Box from '@mui/material/Box';\nimport Drawer from '@mui/material/Drawer';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport InboxIcon from '@mui/icons-material/MoveToInbox';\nimport SendIcon from '@mui/icons-material/Send';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport add from '../../photos/icons/ios-compose.svg';\nimport trophy from '../../photos/icons/trophy.svg';\nimport coins from '../../photos/icons/coins-solid.svg';\nimport users from '../../photos/icons/users-solid.svg';\nimport { injected } from '../../connectors';\nimport IconButton from \"@mui/material/IconButton\";\nimport { faDiscord, faTwitter, faGithub } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { ethers } from \"ethers\";\nimport \"../../componentsStyling/permanentDrawer.scss\";\nimport ScreenSize from '../Common/ScreenSize';\nimport ContactsContext from '../Contexts/ContactsContext';\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport SnackbarNotification from './Snackbar';\nimport { Add } from '@mui/icons-material';\nimport ContactsSetter from '../ContactsSetter';\nimport useAnalyticsEventTracker from '../Common/GaEventTracker';\n\ndeclare global {\n    interface Window {\n        ethereum: any;\n    }\n}\n\nexport function PermanentDrawer(props: any): any {\n    const context = useWeb3React()\n    const { connector, account } = context\n    const [activatingConnector, setActivatingConnector] = useState<any>()\n    const [selectedIndex, setSelectedIndex] = useState<any>(6);\n    const menuItems = ['Compose', 'Deb0x', 'Stake', 'Sent', 'Mint', 'DBX Yellow pages'];\n    const dimensions = ScreenSize();\n    const useContacts = () => useContext(ContactsContext);\n    const { contacts, setContacts } = useContacts()!;\n    const [notificationState, setNotificationState] = useState({});\n    const [networkName, setNetworkName] = useState<any>();\n    let [show, setShow] = useState(false);\n    const gaEventTracker = useAnalyticsEventTracker('Add Contact');\n\n    useEffect(() => {\n        injected.supportedChainIds?.forEach(chainId => \n            setNetworkName((ethers.providers.getNetwork(chainId).name)));\n        if (activatingConnector && activatingConnector === connector) {\n            setActivatingConnector(undefined)\n        }\n    }, [activatingConnector, connector])\n\n\n    function handleChange(text: any, index: any) {\n        setSelectedIndex(index)\n        props.onChange(text)\n        if(index !== 0)\n            localStorage.removeItem('input')\n    }\n\n    function deleteContact(index: any) {\n        const contactsList = contacts.filter((_, i) => i !== index);\n        setContacts(contactsList);\n    }\n\n    useEffect(() => {\n        setTimeout(() => {setNotificationState({})}, 2000)\n    }, [notificationState])\n\n    return (\n        <>\n            <SnackbarNotification state={notificationState} \n                setNotificationState={setNotificationState} />\n            <Box className=\"side-menu-box\" sx={{ display: 'flex' }}>\n                <Drawer variant=\"permanent\"\n                    anchor={dimensions.width > 768 ? 'left' : 'bottom'}\n                    className=\"side-menu\">\n                    <div className=\"image-container\" \n                        onClick={() => handleChange(\"Home\", 4)}>\n                        <div className=\"img\"></div>\n                    </div>\n                    { account  && \n                        <List className=\"menu-list\">\n                            {menuItems.map((text, index) => (\n                                <>\n                                    <ListItem button key={text} \n                                        selected={selectedIndex === index} \n                                        onClick={() => handleChange(text, index)}\n                                        className={`list-item ${index === 0 ? \"send-item\" : \"\"}` }>\n                                        \n                                        <ListItemIcon className=\"icon\" >\n                                            {index === 0 && <img src={add} />}\n                                            {index === 1 && <InboxIcon />} \n                                            {index === 2 && <img src={trophy} />}\n                                            {index === 3 && <SendIcon className=\"sent-icon-color\"/>}\n                                            {index === 4 && <img src={coins} />}\n                                            {index === 5 && <img src={users} />}\n                                        </ListItemIcon>\n                                        <ListItemText className=\"text\" primary={text} />\n                                    </ListItem>\n                                </>\n                            ))}\n                        </List>\n                    }\n                    \n                    <div className=\"side-menu--bottom\">\n                        { account && \n                            <div className=\"contacts\">\n                                <List>\n                                    {contacts.map((contact: any, index: any) => (\n                                        <ListItem button key={contact.name}>\n                                            <ListItemText className=\"text\" primary={contact.name}/>\n                                            <div className=\"col-4 buttons\">\n                                                <IconButton size=\"small\"\n                                                    onClick={() => {\n                                                            navigator.clipboard.writeText(contact.address);\n                                                            setNotificationState({\n                                                                message: \"Address added to clipboard.\",\n                                                                open: true,\n                                                                severity: \"success\"\n                                                            })\n                                                        }}>\n                                                    <ContentCopyIcon className=\"copy-icon\" fontSize=\"small\"/>\n                                                </IconButton>\n                                                <IconButton size=\"small\"\n                                                    onClick={() => {\n                                                        // setNotificationState({})\n                                                        localStorage.setItem(\"input\", JSON.stringify(contact.address));\n                                                        if (document.querySelector(\".editor\")) {\n                                                            (document.querySelector(\".editor\") as HTMLElement).click();\n                                                        } else {\n                                                            handleChange(\"Compose\", 0)\n                                                        }\n                                                    }}>\n                                                    <SendIcon className=\"send-icon\" fontSize=\"small\"/>\n                                                </IconButton>\n                                                <IconButton size=\"small\"\n                                                    onClick={() => {\n                                                        deleteContact(index)\n                                                    }}>\n                                                    <DeleteIcon className=\"delete-icon\" fontSize=\"small\"/>\n                                                </IconButton>\n                                            </div>\n                                        </ListItem>\n                                    ))}\n                                </List>\n                                <>\n                                    <IconButton className='add-new-all' onClick={() => {setShow(true); gaEventTracker('New contact menu');}}>\n                                        <Add className=\"add-button\"/>\n                                        <p className='add-new mb-0'>Add new</p>\n                                    </IconButton>\n                                    {show ? \n                                        <ContactsSetter show={show} onClickOutside={() => setShow(false)}/> : \n                                        <></>\n                                    }    \n                                </>\n                            </div>\n                        }\n                        <div className=\"content\">\n                            <div className=\"social-media\">\n                                <a href=\"https://mobile.twitter.com/deb0xDAO\" target=\"_blank\" className=\"logo-text-color\">\n                                    <FontAwesomeIcon icon={faTwitter} size=\"xl\"/>\n                                </a>\n                                <a href=\"https://discord.com/invite/btejt3kUcN\" target=\"_blank\" className=\"logo-text-color\">\n                                    <FontAwesomeIcon icon={faDiscord} size=\"xl\"/>\n                                </a>\n                                <a href=\"https://github.com/deb0x\" target=\"_blank\" className=\"logo-text-color\">\n                                    <FontAwesomeIcon icon={faGithub} size=\"xl\"/>\n                                </a>\n                            </div>\n                            <a href=\"https://www.deb0x.org\" target=\"_blank\" className='logo-text-color'>\n                                www.deb0x.org\n                            </a>\n                        </div>\n                    </div>\n                </Drawer>\n            </Box>\n        </>\n    );\n}","import React, { useState, useEffect } from 'react'\n\nexport default function useWindowSize() {\n    // Initialize state with undefined width/height so server and client renders match\n    // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n    const [windowSize, setWindowSize] = useState({\n      width: 0,\n      height: 0,\n    });\n    useEffect(() => {\n      // Handler to call on window resize\n      function handleResize() {\n        // Set window width/height to state\n        setWindowSize({\n          width: window.innerWidth,\n          height: window.innerHeight,\n        });\n      }\n      // Add event listener\n      window.addEventListener(\"resize\", handleResize);\n      // Call handler right away so state gets updated with initial window size\n      handleResize();\n      // Remove event listener on cleanup\n      return () => window.removeEventListener(\"resize\", handleResize);\n    }, []); // Empty array ensures that effect is only run on mount\n    return windowSize;\n  }","import {useState, Fragment} from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport { signMetaTxRequest } from '../../ethereum/signer';\nimport { createInstance } from '../../ethereum/forwarder'\nimport Box from '@mui/material/Box';\nimport Stepper from '@mui/material/Stepper';\nimport Step from '@mui/material/Step';\nimport StepLabel from '@mui/material/StepLabel';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport Typography from '@mui/material/Typography';\nimport Deb0x from \"../../ethereum/deb0x\"\nimport SnackbarNotification from './Snackbar';\nimport '../../componentsStyling/stepper.scss';\nimport dataFromWhitelist from '../../constants.json';\nimport { ConstructionOutlined } from '@mui/icons-material';\n\nconst steps = ['Start your deb0x account.', 'Get validated as deb0x user on blockchain.'];\nconst deb0xAddress = \"0xA06735da049041eb523Ccf0b8c3fB9D36216c646\";\nconst ethers = require('ethers')\nconst utils = ethers.utils\n\nexport default function HorizontalLinearStepper(props: any) {\n    const { account, library } = useWeb3React()\n    const [encryptionKey, setEncryptionKey] = useState('')\n    const [activeStep, setActiveStep] = useState(0);\n    const [whichStepFailed, setStepFailed] = useState<number | undefined>(undefined)\n    const [loading, setLoading] = useState(false)\n    const [notificationState, setNotificationState] = useState({})\n    const { whitelist } = dataFromWhitelist;\n\n    const handleNext = () => {\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n    };\n\n    const fetchInitializeDeb0x = async (url:any, request:any) => {\n        let response = await fetch(url, {\n            method: 'POST',\n            body: JSON.stringify(request),\n            headers: { 'Content-Type': 'application/json' },\n          });\n\n        let responseJson = await response.json()\n\n        return responseJson\n    }\n\n    async function getEncryptionKey() {\n        setLoading(true)\n        await library.provider.request({\n            method: 'eth_getEncryptionPublicKey',\n            params: [account],\n        })\n            .then((result: any) => {\n                setEncryptionKey(result);\n                handleNext()\n                setStepFailed(undefined)\n                setLoading(false)\n                \n            })\n            .catch((error: any) => {\n                setNotificationState({message: \"You rejected to provide the public encryption key.\", open: true,\n                severity:\"info\"})\n                setStepFailed(0)\n                setLoading(false)\n            });\n        \n    }\n\n    async function fetchInitializeResult(request: any, url: any) {\n            await fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(request),\n                headers: { 'Content-Type': 'application/json' },\n            })\n                .then((response) => response.json())\n                .then(async (data) => {\n                    try {\n                        const {tx: txReceipt} = JSON.parse(data.result)\n                    \n                        if(txReceipt.status == 1){\n                            setTimeout(() => {\n                                setNotificationState({message: \"Deb0x was succesfully initialized.\", open: true,\n                                    severity:\"success\"})\n                                setLoading(false)\n                                props.onDeboxInitialization(true)\n                            }, 10000)\n                        } else {\n                            setNotificationState({message: \"Deb0x couldn't be initialized!\", open: true,\n                                severity:\"error\"})\n                                setLoading(false)\n                        }\n                    } catch(error) {\n                        if(data.status == \"pending\") {\n                            setNotificationState({\n                                message: \"Your transaction is pending. Deb0x should be initialized shortly\",\n                                open: true,\n                                severity: \"info\"\n                            })\n                        } else if(data.status == \"error\") {\n                            setNotificationState({\n                                message: \"Transaction relayer error. Please try again\",\n                                open: true,\n                                severity: \"error\"\n                            })\n                        }\n                    }\n                })\n    }\n\n    async function sendInitializeTx(deb0xContract: any) {\n        try {\n            const tx = await deb0xContract.setKey(Array.from(ethers.utils.base64.decode(encryptionKey)))\n\n            tx.wait()\n            .then((result: any) => {\n                if(result) {\n                    setTimeout(() => {\n                        setNotificationState({message: \"Deb0x was succesfully initialized.\", open: true,\n                            severity:\"success\"})\n                        setLoading(false)\n                        props.onDeboxInitialization(true)\n                    }, 10000)\n                }\n                \n\n            })\n            .catch((error: any) => {\n                setNotificationState({message: \"Deb0x couldn't be initialized!\", open: true,\n                severity:\"error\"})\n                setLoading(false)\n            })\n        } catch(error: any) {\n            setNotificationState({message: \"You rejected the transaction. Deb0x was not initialized.\", open: true,\n                severity:\"info\"})\n                setLoading(false)\n        }\n    }\n\n    async function initializeDeb0x() {\n        setLoading(true)\n\n        const signer = await library.getSigner(0)\n\n        const deb0xContract = Deb0x(library, deb0xAddress)\n\n        const from = await signer.getAddress();\n        if(whitelist.includes(from)){\n            const url = \"https://api.defender.openzeppelin.com/autotasks/b939da27-4a61-4464-8d7e-4b0c5dceb270/runs/webhook/f662ac31-8f56-4b4c-9526-35aea314af63/SPs6smVfv41kLtz4zivxr8\";\n            const forwarder = createInstance(library)\n            const data = deb0xContract.interface.encodeFunctionData('setKey', [encryptionKey])\n            const to = deb0xContract.address\n\n            try {\n                const request = await signMetaTxRequest(library, forwarder, { to, from, data });\n    \n                await fetchInitializeResult(request, url)\n            } catch(error: any) {\n                    setNotificationState({message: \"You rejected the transaction. Deb0x was not initialized.\", open: true,\n                        severity:\"info\"})\n                        setLoading(false)\n            }\n        } else {\n            sendInitializeTx(deb0xContract.connect(signer))\n        }\n    }\n\n    return (\n        <>\n            <SnackbarNotification state={notificationState} setNotificationState={setNotificationState}/>\n            <Box className=\"stepper-box\" sx={{ width: '100%', maxWidth: 1080 }}>\n                <Stepper activeStep={activeStep} className=\"stepper\" alternativeLabel>\n                    {steps.map((label, index) => {\n                        const stepProps: { completed?: boolean } = {};\n                        const labelProps: {\n                            optional?: React.ReactNode;\n                            error?: boolean;\n                        } = {};\n                        if (whichStepFailed === index) {\n                            labelProps.optional = (\n                            <Typography variant=\"caption\" color=\"error\">\n                                {(activeStep === 0) ? \"User didn't provide encryption key\" : \"User rejected transaction\"}\n                            </Typography>\n                            );\n                            labelProps.error = true;\n                        }\n                        return (\n                            <Step key={label} {...stepProps}>\n                                <StepLabel {...labelProps} >{label} </StepLabel>\n                            </Step>\n                        );\n                    })}\n                </Stepper>\n                <Box\n                    className={activeStep === steps.length - 1 ? 'col-12 col-md-6 right button-box' : 'col-12 col-md-6 left button-box'}\n                    sx={{ display: 'flex', flexDirection: 'row', pt: 2 }}>\n                    {activeStep === steps.length - 1 ? \n                        <div>\n                            <p>By hitting Initialize button your public encryption key \n                                will be uploaded on the deb0x protocol smart contract.\n                            </p> \n                            <p>This will validate your user on the blockchain.</p>\n                        </div> :\n                        <div>\n                            <p>Start your deb0x account. By hitting Provide button you consent for deb0x \n                                to access your public encryptrion key though MetaMask.\n                            </p> \n                            <p>This will allow you to send & receive messages through the deb0x protocol.</p>\n                        </div>\n                    }\n                    <LoadingButton className='init-btn' loading={loading} variant=\"contained\" onClick={\n                        (activeStep === 0) ? getEncryptionKey : initializeDeb0x\n                    }>\n                        {activeStep === steps.length - 1 ? 'Initialize' : 'Provide'}\n                    </LoadingButton>\n                </Box>\n            </Box>\n        </>\n    );\n}\n","export default function formatAccountName(account: string)\n{   \n    return `${account.substring(0, 5)}...${account.substring(account.length - 4)}`\n}","import { createContext } from \"react\";\n\ntype ReadedMessages = {\n    readed: string[],\n    setReaded: (_values: any) => void\n}\n\nexport const readedMessages: ReadedMessages = {\n    readed: JSON.parse(localStorage.getItem('messages') || '[]'),\n    setReaded: (_values: any) => {}\n};\n\nconst ReadedMessagesContext = createContext(readedMessages);\nexport default ReadedMessagesContext;","import { useState, useEffect } from \"react\";\nimport ReadedMessagesContext, { readedMessages } from './ReadedMessagesContext';\n\ntype Props = {\n    children: JSX.Element|JSX.Element[],\n};\n\nconst ReadedMessagesProvider = ( { children }: Props ) => {\n    const [readed, setReaded] = useState<any>(readedMessages.readed);\n  \n    const localStorage = window.localStorage;  \n  \n    useEffect(() => {\n        localStorage.setItem('messages', JSON.stringify(readed));\n    }, [readed, localStorage]);\n    \n    return (\n      <ReadedMessagesContext.Provider value={{ readed, setReaded }}>\n        <>{children}</>\n      </ReadedMessagesContext.Provider>\n    );\n  };\n  \n  export default ReadedMessagesProvider;","import { useState, useEffect, useContext, createContext } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport Deb0x from \"../../ethereum/deb0x\"\nimport { ethers } from \"ethers\";\nimport { getKeyMoralis,fetchMessageSendersMoralis, fetchMessagesMoralis} from '../../ethereum/EventLogsMoralis.js';\nimport {\n    Tooltip, List, ListItem, ListItemText, ListItemButton, Typography, Box, \n    CircularProgress,\n    Button,\n    Modal\n} from '@mui/material';\nimport Stepper from './Stepper'\nimport IconButton from \"@mui/material/IconButton\";\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\nimport Pagination from \"@mui/material/Pagination\";\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport MailOutlineIcon from '@mui/icons-material/MailOutline';\nimport axios from 'axios';\nimport formatAccountName from \"../Common/AccountName\";\nimport \"../../componentsStyling/decrypt.scss\"\nimport { Add, CompressOutlined, ConstructionOutlined } from '@mui/icons-material';\nimport { Announcement } from '@mui/icons-material';\nimport ContactsSetter from '../ContactsSetter';\nimport lock from '../../photos/lock.svg';\nimport airplane from '../../photos/airplane.svg';\nimport users from '../../photos/users.svg';\nimport hand from '../../photos/hand.svg';\nimport avatar from '../../photos/icons/avatars/test-avatar-1.svg';\nimport ReadedMessagesContext from '../Contexts/ReadedMessagesContext';\nimport ReadedMessagesProvider from '../Contexts/ReadedMessagesProvider';\nimport { Encrypt } from './Encrypt';\nimport useAnalyticsEventTracker from '../Common/GaEventTracker';\n\nconst deb0xAddress = \"0xA06735da049041eb523Ccf0b8c3fB9D36216c646\";\n\nexport function Decrypt(props: any): any {\n    const { account, library } = useWeb3React()\n    const [loading, setLoading] = useState(true)\n    const [encryptionKeyInitialized, setEncryptionKeyInitialized] = \n        useState<boolean|undefined>(undefined);\n    const [decrypted, setDecrypted] = useState<any>();\n    const savedContacts = JSON.parse(localStorage.getItem('contacts') || 'null'); \n    const gaEventTracker = useAnalyticsEventTracker('Decrypt');\n    const gaContactTracker = useAnalyticsEventTracker('Decrypt');\n\n    useEffect(() => {\n        setLoading(true)\n        getPublicEncryptionKey()\n    }, [account]);\n\n    const getPublicEncryptionKey = async () => {      \n        const key = await getKeyMoralis(account);\n        const initialized = (key != '') ? true : false\n        setEncryptionKeyInitialized(initialized);\n    }\n\n    async function decrypt(encryptedMessage: any) {\n        try {\n            const decryptedMessage = await library.provider.request({\n                method: 'eth_decrypt',\n                params: [encryptedMessage, account],\n            });\n            gaEventTracker('Success: message decrypted');\n            return decryptedMessage\n        } catch (error) {\n            gaEventTracker('Rejected: message decrypted');\n            return undefined\n        }\n    }\n\n    async function fetchMessage(message: any) {\n        return await axios.get(`https://deb0x-test.infura-ipfs.io/ipfs/${message}`)\n    }\n\n    function Message(props: any) {\n        const { chainId } = useWeb3React()\n        const encryptMessage = props.message.fetchedMessage.data\n        const [message, setMessage] =\n            useState(props.message.fetchedMessage.data)\n        const [ensName,setEnsName] = useState(\"\");\n        //const [sender, setSender] = useState(props.messsage.sender)\n        const [messageTime, setMessageTime] = useState(props.message.timestamp)\n        const [isDecrypted, setIsDecrypted] = useState(false);\n        const min = 1;\n        const max = 50;\n        const [randomImage] = useState<number>(Math.floor(Math.random() * (max - min + 1)) + min);\n        let [show, setShow] = useState(false);\n        const [isReaded, setIsReaded] = useState(false);\n        \n        const useMessages = () => useContext(ReadedMessagesContext)\n        const {readed, setReaded} = useMessages()!;\n\n        useEffect(()=>{\n            checkENS();\n        },[])\n\n        const addMessage = () => {\n            let messageList = JSON.parse(localStorage.getItem('messages') || 'null');\n            if(!messageList.includes(message)) {\n                readed.push(message);\n                setReaded([...readed]);\n            }\n        }\n\n        useEffect(() => {\n            localStorage.setItem('messages', JSON.stringify(readed));\n            checkMessageInLocalStorage();\n        })\n\n        const checkMessageInLocalStorage = () => {\n            let messageList = JSON.parse(localStorage.getItem('messages') || 'null');\n            messageList.map((element: any) => {\n                if (element === message)\n                    setIsReaded(true);\n            })\n        }\n\n        useEffect(()=>{\n            if(props.index !== props.previousIndex && isDecrypted===true){\n                hideMessage();\n            }\n\n        },[props.previousIndex])\n\n\n        async function checkENS() {\n            if(chainId !=137){\n                let name = await library.lookupAddress(props.message.sender);\n                if(name !== null) {   \n                    setEnsName(name);\n                }\n            }\n        }\n\n        async function decryptMessage() {\n            const decryptedMessage = await decrypt(message)\n            \n            if(decryptedMessage) {\n                setMessage(decryptedMessage);\n                setIsDecrypted(true);\n                props.setPreviousIndex(props.index);\n            }\n\n            checkMessageInLocalStorage();\n        }\n\n        async function hideMessage() {\n            setMessage(encryptMessage);\n            setIsDecrypted(false);\n        }\n\n        function checkSenderInLocalStorage(sender: any) {\n            let user: any;\n\n            if (ensName !== \"\") {\n                user = ensName;\n            } else {\n                savedContacts.map((contact: any) => {\n                    if (sender == (contact.address).toLowerCase()) {\n                        user = true;\n                    }\n                })\n            }\n\n           return user;\n        }\n\n\n        return (\n            <ReadedMessagesProvider>\n                <ListItem\n                    disablePadding \n                    key={props.index}    \n                    secondaryAction={ \n                        <IconButton className={`${\n                                (message !== props.message.fetchedMessage.data) ? \n                                \"list-item-btn\" : \"\"}`\n                            }  \n                            onClick={()=>{hideMessage()}}  \n                            edge=\"end\" \n                            aria-label=\"comments\">\n                            { (message !== props.message.fetchedMessage.data) ? \n                                <VisibilityOffIcon className='visibility-icon' /> : null\n                            }\n                        </IconButton>  \n                    }\n                    className={`messages-list-item card ${isReaded ? \"read\" : \"unread\"}` }>\n                    <ListItemButton \n                        className={`list-item-button ${isDecrypted ? \"active\" : \"\"}` }\n                        onClick={() => {\n                            if(message === props.message.fetchedMessage.data) {\n                                decryptMessage()\n                            }\n                            addMessage();\n                        }}>\n                        <div>\n                            <img width=\"58px\" height=\"58px\" src={require(`../../photos/icons/avatars/animal-${randomImage}.svg`).default} alt=\"avatar\"/>\n                        </div>\n                        <ListItemText primary={\n                            <>\n                                <div className=\"message-left\">\n                                    <div className=\"message-heading\">\n                                        <p>From: \n                                            {\n                                                checkSenderInLocalStorage(props.message.sender) ?\n                                                savedContacts.filter((contact: any) => props.message.sender == (contact.address).toLowerCase())\n                                                    .map((filteredPerson: any) => (\n                                                        filteredPerson.name\n                                                    )) :\n                                                    formatAccountName(\n                                                        props.message.sender\n                                                    )\n                                            }\n                                        </p>\n                                        <p className=\"time-stamp\">\n                                            {messageTime}\n                                        </p>\n                                    </div>\n                                    <div className=\"message-container\">\n                                        <p className=\"message message-overflow\"\n                                            dangerouslySetInnerHTML={{ __html: message }} />\n                                        <Announcement className=\"new-message-icon\" />\n                                    </div>\n                                </div>\n                                \n                            </> \n                        }/>\n                    </ListItemButton>\n                    {isDecrypted ? \n                        <div className=\"message-right inbox\">\n                            <div className=\"message-right--container\">\n                                <div className=\"message-heading\">\n                                    <div className=\"address\">\n                                        <p>From: \n                                            <strong>\n                                            {\n                                                checkSenderInLocalStorage(props.message.sender) ?\n                                                    savedContacts.filter((contact: any) => props.message.sender == (contact.address).toLowerCase())\n                                                        .map((filteredPerson: any) => (\n                                                            filteredPerson.name\n                                                        )) :\n                                                        formatAccountName(\n                                                            props.message.sender\n                                                        )\n                                            }\n                                            </strong>\n                                        </p>\n                                        <>\n                                            {!checkSenderInLocalStorage(props.message.sender) ? \n                                                <IconButton onClick={() => {\n                                                    setShow(true); \n                                                    gaContactTracker(\"New contact from message\");\n                                                }}>\n                                                    <Add />\n                                                </IconButton> :\n                                                <></>\n                                            }\n                                            \n                                            <ContactsSetter show={show} props={props.message.sender} \n                                                onClickOutside={() => setShow(false)}/>\n                                        </>\n                                    </div>\n                                    <p className=\"time-stamp\">\n                                        <small>\n                                            {messageTime}\n                                        </small>\n                                    </p>\n                                </div>\n                                <p className=\"message\" \n                                    dangerouslySetInnerHTML={{ __html: message }} />\n                                <Encrypt props={props.message.sender}/>\n                            </div>\n                        </div> : \n                        <></> \n                    }\n                </ListItem>\n            </ReadedMessagesProvider>\n        )\n    }\n\n    function GetMessages() {\n        const [fetchedMessages, setFetchedMessages] = useState<any>([])\n        const [sortedMessages, setSortedMessages] = useState<any>([])\n        const [previousIndex, setPreviousIndex] = useState<number>();\n\n        useEffect(() => {\n            processMessages()\n        }, []);\n\n        async function processMessages() {\n            const deb0xContract = Deb0x(library, deb0xAddress)\n            const senderAddresses = \n                await fetchMessageSendersMoralis(account);\n                if(senderAddresses.length!=0){\n            const cidsPromises = \n                senderAddresses.map(async function(sender:any) {\n                    return { \n                        cids: await fetchMessagesMoralis(account,sender),\n                        sender: sender\n                    }\n                })\n            const cids = await Promise.all(cidsPromises)\n            const encryptedMessagesPromisesArray = \n                cids.map(async function(cidArray: any) {\n                    const encryptedMessagesPromises = \n                        cidArray.cids.map(async function (cid: any) {\n                            const unixTimestamp = cid.timestamp.toString()\n                            const milliseconds = unixTimestamp * 1000 \n\n                            const dateObject = new Date(milliseconds)\n\n                            const humanDateFormat = dateObject.toLocaleString()\n                            return { \n                                fetchedMessage: await fetchMessage(cid.content),\n                                sender: cidArray.sender,\n                                timestamp: humanDateFormat\n                            }\n                        })\n                    const promise = await Promise.all(encryptedMessagesPromises)\n                       \n                    return promise\n                })\n\n            const encryptedMessages = await Promise.all(encryptedMessagesPromisesArray)\n            const sortedEncryptedMessages = encryptedMessages?.flat();\n            let sendersArray:any[] = [];\n            let timestampArray:any[] = [];\n            let transactions:any[] = [];\n            let index = 0;\n            sortedEncryptedMessages.forEach(element =>{\n                if(sendersArray.length ==0 ){\n                    sendersArray[index] = element.sender;\n                    timestampArray[index] = element.timestamp;\n                    transactions.push(element);\n                    index++;\n                } else {\n                    let ok= 1;\n                for(let i=0;i<sendersArray.length;i++){\n                    if(sendersArray[i] == element.sender && timestampArray[i] == element.timestamp){\n                        ok=0;\n                    } \n                }\n                if(ok==1){\n                    sendersArray[index] = element.sender;\n                    timestampArray[index] = element.timestamp;\n                    transactions.push(element);\n                    index++;\n               }\n                }\n            })\n            setFetchedMessages(transactions)\n            setSortedMessages(transactions)\n            setLoading(false)\n        } else {\n            setFetchedMessages([])\n            setSortedMessages([])\n            setLoading(false)\n        }\n        }\n\n        if(!loading) {\n            if (sortedMessages.length === 0) {\n                return (\n                    <div className='clouds'>\n                        <div className=\"cloudOne\">\n                            <img src={require(`../../photos/icons/clouds/cloud-2.svg`).default} alt=\"cloud-1\" />\n                        </div>\n                        <div className=\"cloudTwo\">\n                            <img src={require(`../../photos/icons/clouds/cloud-1.svg`).default} alt=\"cloud-2\" />\n                        </div>\n                        <div className=\"cloudThree\">\n                            <img src={require(`../../photos/icons/clouds/cloud-3.svg`).default} alt=\"cloud-3\" />\n                        </div>\n                        <div className=\"cloudText\">\n                            Cloudy with a chance of messages\n                        </div>\n                    </div>\n                )\n            } else {\n                return (\n                    <div className=\"row messages-list\">\n                        <List className=\"col-md-4 col-sm-12\">\n                            <Box className=\"pagination\" sx={{display:\"flex\"}}>\n                                <Pagination count={1} />\n                                <IconButton size=\"large\" onClick={()=> setLoading(true) }>\n                                    <RefreshIcon fontSize=\"large\"/>\n                                </IconButton>\n                            </Box>\n                            {sortedMessages.map((message: any, i: any) => {\n                                return (\n                                    <Message message={message} index={i} \n                                        key={i} previousIndex={previousIndex} \n                                        setPreviousIndex={setPreviousIndex} />\n                                )\n                            })}\n                        </List>\n                        <Box className=\"corner-image col-md-8\">\n                            <div>\n                                \n                            </div>\n                        </Box>\n                    </div>\n                )\n            }\n        } else {\n            return (\n                <div className=\"spinner\">\n                    <CircularProgress/>\n                </div>\n            )\n        }\n    }\n    \n    if (encryptionKeyInitialized === true) {\n        return (\n            <div className=\"content-box\">\n                <GetMessages />\n            </div>\n        )\n    } else if (encryptionKeyInitialized === false) {\n        return (\n            <Stepper onDeboxInitialization={getPublicEncryptionKey}/>\n        )\n    } else {\n        return(\n            <div className=\"spinner\">\n                <CircularProgress/>\n            </div>\n        )\n    }\n}","import { ethers } from \"ethers\";\n\nconst { abi } = require(\"./Deb0xERC20.json\");\n\nexport default (signerOrProvider, address) => {\n    return new ethers.Contract(address, abi, signerOrProvider);\n}\n","export default __webpack_public_path__ + \"static/media/coin-bag-solid--light.d9344235.svg\";","export default __webpack_public_path__ + \"static/media/token.0bd78e9a.svg\";","export default __webpack_public_path__ + \"static/media/coin-bag-solid--dark.b9b74873.svg\";","export default __webpack_public_path__ + \"static/media/wallet--light.60fbc32b.svg\";","export default __webpack_public_path__ + \"static/media/wallet--dark.307c5384.svg\";","export default __webpack_public_path__ + \"static/media/trophyRewards.b26a8588.svg\";","import { useState, useEffect } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport {\n    Card, CardActions, CardContent, Button, Grid,\n    Typography, Box, OutlinedInput\n} from '@mui/material';\n\nimport ToggleButton from '@mui/material/ToggleButton';\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport Deb0x from \"../../ethereum/deb0x\"\nimport Deb0xViews from \"../../ethereum/deb0xViews\";\nimport Deb0xERC20 from \"../../ethereum/deb0xerc20\"\nimport SnackbarNotification from './Snackbar';\nimport { BigNumber, ethers } from \"ethers\";\nimport \"../../componentsStyling/stake.scss\";\nimport token from \"../../photos/icons/token.svg\"\nimport coinBagLight from \"../../photos/icons/coin-bag-solid--light.svg\";\nimport coinBagDark from \"../../photos/icons/coin-bag-solid--dark.svg\";\nimport walletLight from \"../../photos/icons/wallet--light.svg\";\nimport walletDark from \"../../photos/icons/wallet--dark.svg\";\nimport trophyRewards from \"../../photos/icons/trophyRewards.svg\";\nimport { signMetaTxRequest } from '../../ethereum/signer';\nimport { createInstance } from '../../ethereum/forwarder'\nimport dataFromWhitelist from '../../constants.json';\nimport useAnalyticsEventTracker from '../Common/GaEventTracker';\n\nconst { whitelist } = dataFromWhitelist;\nconst deb0xAddress = \"0xA06735da049041eb523Ccf0b8c3fB9D36216c646\";\nconst deb0xViewsAddress = \"0x51CcBf6DA6c14b6A31Bc0FcA07056151fA003aBC\";\nconst deb0xERC20Address = \"0x22c3f74d4AA7c7e11A7637d589026aa85c7AF88a\";\n\nexport function Stake(props: any): any {\n\n    const { account, library } = useWeb3React()\n    const [notificationState, setNotificationState] = useState({})\n    const gaEventTracker = useAnalyticsEventTracker('Stake');\n\n    function FeesPanel() {\n        const [feesUnclaimed, setFeesUnclaimed] = useState(\"\")\n        const [loading, setLoading] = useState(false)\n\n        useEffect(() => {\n            feesAccrued()\n        }, [feesUnclaimed]);\n\n        async function feesAccrued() {\n            const deb0xViewsContract = await Deb0xViews(library, deb0xViewsAddress);\n            \n            const unclaimedRewards = await deb0xViewsContract.getUnclaimedFees(account);\n\n            setFeesUnclaimed(ethers.utils.formatEther(unclaimedRewards))\n        }\n\n        async function fetchClaimFeesResult(request: any, url: any) {\n            await fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(request),\n                headers: { 'Content-Type': 'application/json' },\n            })\n                .then((response) => response.json())\n                .then(async (data) => {\n                    try{\n                        const {tx: txReceipt} = JSON.parse(data.result)\n                        if(txReceipt.status == 1){\n                            setNotificationState({\n                                message: \"You succesfully claimed your fees.\", open: true,\n                                severity: \"success\"\n                            })\n                        } else {\n                            setNotificationState({\n                                message: \"Fees couldn't be claimed!\", open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    } catch(error) {\n                        if(data.status == \"pending\") {\n                            setNotificationState({\n                                message: \"Your transaction is pending. Your fees should arrive shortly\",\n                                open: true,\n                                severity: \"info\"\n                            })\n                        } else if(data.status == \"error\") {\n                            setNotificationState({\n                                message: \"Transaction relayer error. Please try again\",\n                                open: true,\n                                severity: \"error\"\n                            })\n                        }\n                    }\n                    \n                })\n        }\n\n        async function sendClaimFeesTx(deb0xContract: any) {\n            try {\n                const tx = await deb0xContract.claimFees()\n\n                tx.wait()\n                    .then((result: any) => {\n                        setNotificationState({\n                            message: \"You succesfully claimed your fees.\", open: true,\n                            severity: \"success\"\n                        })\n                        //setLoading(false)\n\n                    })\n                    .catch((error: any) => {\n                        setNotificationState({\n                            message: \"Fees couldn't be claimed!\", open: true,\n                            severity: \"error\"\n                        })\n                        setLoading(false)\n                    })\n            } catch (error: any) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Your fees haven't been claimed.\",\n                    open: true,\n                    severity: \"info\"\n                })\n                setLoading(false)\n            }\n        }\n\n        async function claimFees() {\n            setLoading(true)\n\n            const signer = await library.getSigner(0)\n\n            const deb0xContract = Deb0x(signer, deb0xAddress)\n\n            \n            const from = await signer.getAddress();\n            if(whitelist.includes(from)) {\n                const url = \"https://api.defender.openzeppelin.com/autotasks/b939da27-4a61-4464-8d7e-4b0c5dceb270/runs/webhook/f662ac31-8f56-4b4c-9526-35aea314af63/SPs6smVfv41kLtz4zivxr8\";\n                const forwarder = createInstance(library)\n                const data = deb0xContract.interface.encodeFunctionData(\"claimFees()\")\n                const to = deb0xContract.address\n\n                try {\n                    const request = await signMetaTxRequest(library, forwarder, { to, from, data });\n\n                    gaEventTracker(\"Success: Claim fees\");\n        \n                    await fetchClaimFeesResult(request, url)\n        \n                } catch (error: any) {\n                    setNotificationState({\n                        message: \"You rejected the transaction. Fees were not claimed.\",\n                        open: true,\n                        severity: \"info\"\n                    })\n\n                    gaEventTracker(\"Rejected: Claim fees\");\n                }\n            } else {\n                await sendClaimFeesTx(deb0xContract)\n            }\n        }\n\n        return (\n            <>\n            <Card variant=\"outlined\" className=\"card-container\">\n                <CardContent className=\"row\">\n                    <div className=\"col-12 col-md-6 mb-2\">\n                        <Typography variant=\"h4\" component=\"div\" className=\"rewards mb-3\">\n                            FEES\n                        </Typography>\n                        <Typography >\n                            Your unclaimed fees:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"data-height\">\n                            <strong>{feesUnclaimed}</strong>\n                        </Typography>\n                    </div>\n                    <div className='col-12 col-md-6 d-flex justify-content-end align-items-start'>\n                        <img src={trophyRewards} alt=\"trophyRewards\" className=\"p-3\"/>\n                    </div>\n                </CardContent>\n                <CardActions className='button-container px-3'>\n                    <LoadingButton \n                        className=\"collect-btn\"\n                        disabled={feesUnclaimed==\"0.0\"}\n                        loading={loading}\n                        variant=\"contained\"\n                        onClick={claimFees}>\n                            Collect\n                    </LoadingButton>\n                </CardActions>\n            </Card>\n            </>\n        )\n    }\n\n    function CyclePanel() {\n        const [currentReward, setCurrentReward] = useState(\"\")\n        useEffect(() => {\n            cycleReward()\n        }, [currentReward]);\n        async function cycleReward() {\n            const deb0xContract = await Deb0x(library, deb0xAddress);\n            const currentReward = await deb0xContract.currentCycleReward();\n            setCurrentReward(ethers.utils.formatEther(currentReward))\n        }\n        return (\n            <>\n            <Card variant=\"outlined\" className=\"card-container\">\n                <CardContent className=\"row\">\n                    <div className=\"col-12 col-md-12 mb-2\">\n                        <Typography variant=\"h4\" component=\"div\" className=\"rewards mb-3\">\n                            DAILY STATS\n                        </Typography>\n                        <Typography className=\"data-height\">\n                            Total amount of daily cycle tokens: <strong>{currentReward}</strong>\n                        </Typography>\n                        {/* <Typography>\n                            Total amount of messages today: <strong>234</strong>\n                        </Typography>\n                        <Typography>\n                            You sent today: <strong>6 msg</strong>\n                        </Typography> */}\n                    </div>\n                </CardContent>\n            </Card>\n            </>\n        )\n    }\n\n    function RewardsPanel() {\n        \n        const [rewardsUnclaimed, setRewardsUnclaimed] = useState(\"\")\n        const [feeSharePercentage, setFeeSharePercentage] = useState(\"\")\n        const [loading, setLoading] = useState(false)\n\n        useEffect(() => {\n            rewardsAccrued()\n        }, [rewardsUnclaimed]);\n\n        useEffect(() => {\n            feeShare()\n        }, [feeSharePercentage]);\n\n        async function rewardsAccrued() {\n            const deb0xViewsContract = await Deb0xViews(library, deb0xViewsAddress);\n\n            const unclaimedRewards = await deb0xViewsContract.getUnclaimedRewards(account);\n         \n            setRewardsUnclaimed(ethers.utils.formatEther(unclaimedRewards))\n        }\n\n        async function feeShare() {\n            const deb0xViewsContract = await Deb0xViews(library, deb0xViewsAddress);\n\n            const deb0xContract = await Deb0x(library, deb0xAddress);\n\n            const unclaimedRewards = await deb0xViewsContract.getUnclaimedRewards(account);\n\n            const accWithdrawableStake = await deb0xViewsContract.getAccWithdrawableStake(account);\n            \n            let balance = parseFloat((ethers.utils.formatEther(unclaimedRewards.add(accWithdrawableStake))))\n            \n            const currentCycle = await deb0xContract.currentStartedCycle();\n\n            const totalSupply = await deb0xContract.summedCycleStakes(currentCycle);\n\n            const feeShare = balance * 100 / totalSupply\n            setFeeSharePercentage(((Math.round(feeShare * 100) / 100).toFixed(2)).toString() + \"%\")\n        }\n\n        async function fetchClaimRewardsResult(request: any, url: any) {\n            await fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(request),\n                headers: { 'Content-Type': 'application/json' },\n            })\n                .then((response) => response.json())\n                .then(async (data) => {\n                    try{\n                        const {tx: txReceipt} = JSON.parse(data.result)\n                        if(txReceipt.status == 1){\n                            setNotificationState({\n                                message: \"You succesfully claimed your rewards.\", open: true,\n                                severity: \"success\"\n                            })\n                        } else {\n                            setNotificationState({\n                                message: \"Rewards couldn't be claimed!\", open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    } catch(error) {\n                        if(data.status == \"pending\") {\n                            setNotificationState({\n                                message: \"Your transaction is pending. Your rewards should arrive shortly\",\n                                open: true,\n                                severity: \"info\"\n                            })\n                        } else if(data.status == \"error\") {\n                            setNotificationState({\n                                message: \"Transaction relayer error. Please try again\",\n                                open: true,\n                                severity: \"error\"\n                            })\n                        }\n                    }\n                    \n                })\n        }\n\n        async function sendClaimRewardsTx(deb0xContract: any) {\n            try {\n                const tx = await deb0xContract.claimRewards()\n\n                tx.wait()\n                    .then((result: any) => {\n                        setNotificationState({\n                            message: \"You succesfully claimed your rewards.\", open: true,\n                            severity: \"success\"\n                        })\n                        //setLoading(false)\n\n                    })\n                    .catch((error: any) => {\n                        setNotificationState({\n                            message: \"Rewards couldn't be claimed!\", open: true,\n                            severity: \"error\"\n                        })\n                        setLoading(false)\n                    })\n            } catch (error: any) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Your rewards haven't been claimed.\",\n                    open: true,\n                    severity: \"info\"\n                })\n                setLoading(false)\n            }\n        }\n\n        async function claimRewards() {\n            setLoading(true)\n\n            const signer = await library.getSigner(0)\n\n            const deb0xContract = Deb0x(signer, deb0xAddress)\n\n            \n            const from = await signer.getAddress();\n            if(whitelist.includes(from)) {\n                const url = \"https://api.defender.openzeppelin.com/autotasks/b939da27-4a61-4464-8d7e-4b0c5dceb270/runs/webhook/f662ac31-8f56-4b4c-9526-35aea314af63/SPs6smVfv41kLtz4zivxr8\";\n                const forwarder = createInstance(library)\n                const data = deb0xContract.interface.encodeFunctionData(\"claimRewards()\")\n                const to = deb0xContract.address\n\n                try {\n                    const request = await signMetaTxRequest(library, forwarder, { to, from, data });\n\n                    gaEventTracker(\"Success: Claim rewards\");\n        \n                    await fetchClaimRewardsResult(request, url)\n        \n                } catch (error: any) {\n                    setNotificationState({\n                        message: \"You rejected the transaction. Rewards were not claimed.\",\n                        open: true,\n                        severity: \"info\"\n                    })\n\n                    gaEventTracker(\"Rejected: Claim rewards\");\n                }\n            } else {\n                await sendClaimRewardsTx(deb0xContract)\n            }\n        }\n\n        return (\n            <>\n            <Card variant=\"outlined\" className=\"card-container\">\n                <CardContent className=\"row\">\n                    <div className=\"col-12 col-md-6 mb-2\">\n                        <Typography variant=\"h4\" component=\"div\" className=\"rewards mb-3\">\n                            REWARDS\n                        </Typography>\n                        <Typography >\n                            Your unclaimed rewards:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"data-height\">\n                            <strong>{rewardsUnclaimed}</strong>\n                        </Typography>\n                        <Typography>\n                            Your share from fees:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"data-height\">\n                            <strong>{feeSharePercentage}</strong>\n                        </Typography>\n                    </div>\n                    <div className='col-12 col-md-6 d-flex justify-content-end align-items-start'>\n                        <img src={trophyRewards} alt=\"trophyRewards\" className=\"p-3\"/>\n                    </div>\n                </CardContent>\n                <CardActions className='button-container px-3'>\n                    <LoadingButton className=\"collect-btn\" loading={loading} variant=\"contained\" onClick={claimRewards}>Claim</LoadingButton>\n                </CardActions>\n            </Card>\n            </>\n        )\n    }\n\n    function floorPrecised(number:any) {\n        var power = Math.pow(10, 2);\n        return (Math.floor(parseFloat(number) * power) / power).toString();\n    }\n\n    function StakeUnstake() {\n        const [alignment, setAlignment] = useState(\"stake\");\n\n        const [userStakedAmount, setUserStakedAmount] = useState(\"\")\n        const [userUnstakedAmount, setUserUnstakedAmount] = useState(\"\")\n        const [tokensForUnstake, setTokenForUnstake] = useState(\"\");\n        const [totalStaked, setTotalStaked] = useState(\"\")\n        const [amountToUnstake, setAmountToUnstake] = useState(\"\")\n        const [amountToStake, setAmountToStake] = useState(\"\")\n        const [loading, setLoading] = useState(false)\n        const [approved, setApproved] = useState<Boolean | null>(false)\n        \n        const handleChange = (\n            event: React.MouseEvent<HTMLElement>,\n            newAlignment: string,\n        ) => {\n            setAlignment(newAlignment);\n            gaEventTracker(newAlignment + \" tab\");\n        };\n        \n        const [theme, setTheme] = useState(localStorage.getItem('globalTheme'));\n        useEffect(() => {\n            setTheme(localStorage.getItem('globalTheme'));\n        });\n\n        useEffect(() => {\n            setStakedAmount()\n        }, [userStakedAmount]);\n\n        useEffect(() => {\n            totalAmountStaked()\n        }, [totalStaked]);\n\n\n        useEffect(() => {\n            setTokensForUntakedAmount()\n        },[]);\n\n        useEffect(() => {\n            setUnstakedAmount()\n        }, [userUnstakedAmount]);\n\n        useEffect(() => {\n            setApproval()\n        }, [approved]);\n\n        async function setStakedAmount() {\n            const deb0xContract = await Deb0x(library, deb0xAddress)\n            const deb0xViewsContract = await Deb0xViews(library, deb0xViewsAddress)\n            const balance = await deb0xViewsContract.getAccWithdrawableStake(account)\n            let firstStakeCycle = await deb0xContract.accFirstStake(account)\n            let secondStakeCycle =  await deb0xContract.accSecondStake(account)\n            let firstStakeCycleAmount = await deb0xContract.accStakeCycle(account,firstStakeCycle);\n            let secondStakeCycleAmount = await deb0xContract.accStakeCycle(account,secondStakeCycle);\n            let withdawbleStake = await deb0xContract.accWithdrawableStake(account);\n            let totalStakedAmount = BigNumber.from(firstStakeCycleAmount).add(BigNumber.from(secondStakeCycleAmount)).add(BigNumber.from(withdawbleStake))\n            setUserStakedAmount(ethers.utils.formatEther(totalStakedAmount))\n        }\n\n        async function setTokensForUntakedAmount() {\n            const deb0xViewsContract = await Deb0xViews(library, deb0xViewsAddress)\n            const balance = await deb0xViewsContract.getAccWithdrawableStake(account)\n            setTokenForUnstake(ethers.utils.formatEther(balance.toString()));\n        }\n\n        async function setUnstakedAmount() {\n            const deb0xERC20Contract = await Deb0xERC20(library, deb0xERC20Address)\n            const balance = await deb0xERC20Contract.balanceOf(account)\n            let number = ethers.utils.formatEther(balance);\n            setUserUnstakedAmount(parseFloat(number.slice(0, (number.indexOf(\".\")) +3)).toString()) \n        }\n\n        async function setApproval() {\n            const deb0xERC20Contract = await Deb0xERC20(library, deb0xERC20Address)\n\n            const allowance = await deb0xERC20Contract.allowance(account, deb0xAddress)\n            allowance > 0 ? setApproved(true) : setApproved(false)\n        }\n\n        async function totalAmountStaked() {\n\n            const deb0xContract = await Deb0x(library, deb0xAddress)\n\n            const currentCycle = await deb0xContract.currentStartedCycle()\n\n            const totalSupply = await deb0xContract.summedCycleStakes(currentCycle)\n\n            setTotalStaked(ethers.utils.formatEther(totalSupply))\n        }\n\n        async function approveStaking() {\n            setLoading(true)\n\n            const signer = await library.getSigner(0)\n            const deb0xERC20Contract = await Deb0xERC20(signer, deb0xERC20Address)\n\n            try {\n                const tx = await deb0xERC20Contract.approve(deb0xAddress, ethers.utils.parseEther(\"5010000\"))\n                tx.wait()\n                    .then((result: any) => {\n                        setNotificationState({\n                            message: \"Your succesfully approved contract for staking.\", open: true,\n                            severity: \"success\"\n                        })\n                        setLoading(false)\n\n                        gaEventTracker(\"Success: Approve staking\");\n\n                    })\n                    .catch((error: any) => {\n                        setNotificationState({\n                            message: \"Contract couldn't be approved for staking!\", open: true,\n                            severity: \"error\"\n                        })\n                        setLoading(false)\n                        gaEventTracker(\"Error: Approve staking\");\n                    })\n            } catch (error) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Contract hasn't been approved for staking.\", open: true,\n                    severity: \"info\"\n                })\n                setLoading(false)\n                gaEventTracker(\"Rejected: Approve staking\");\n            }\n        }\n\n        async function fetchUnstakeResult(request: any, url: any) {\n            await fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(request),\n                headers: { 'Content-Type': 'application/json' },\n            })\n                .then((response) => response.json())\n                .then(async (data) => {\n                    try{\n                        const {tx: txReceipt} = JSON.parse(data.result)\n                        if(txReceipt.status == 1){\n                            setNotificationState({\n                                message: \"Your tokens were succesfully unstaked.\", open: true,\n                                severity: \"success\"\n                            })\n                            setLoading(false)\n                        } else {\n                            setNotificationState({\n                                message: \"Your tokens couldn't be unstaked!\", open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    } catch(error) {\n                        if(data.status == \"pending\") {\n                            setNotificationState({\n                                message: \"Your transaction is pending. Your DBX should be unstaked shortly\",\n                                open: true,\n                                severity: \"info\"\n                            })\n                        } else if(data.status == \"error\") {\n                            setNotificationState({\n                                message: \"Transaction relayer error. Please try again\",\n                                open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    }\n                    \n                })\n        }\n\n        async function sendUnstakeTx(deb0xContract: any) {\n            try {\n                const tx = await deb0xContract.unstake(ethers.utils.parseEther(amountToUnstake.toString()))\n\n                tx.wait()\n                    .then((result: any) => {\n                        setNotificationState({\n                            message: \"Your tokens were succesfully unstaked.\", open: true,\n                            severity: \"success\"\n                        })\n                        setLoading(false)\n\n                    })\n                    .catch((error: any) => {\n                        setLoading(false)\n                        setNotificationState({\n                            message: \"Your tokens couldn't be unstaked!\", open: true,\n                            severity: \"error\"\n                        })\n\n                    })\n            } catch(error) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Your tokens haven't been unstaked.\",\n                    open: true,\n                    severity: \"info\"\n                })\n                setLoading(false)\n            }\n        }\n\n        async function unstake() {\n            setLoading(true)\n\n            const signer = await library.getSigner(0)\n\n            const deb0xContract = Deb0x(signer, deb0xAddress)\n            \n            const from = await signer.getAddress();\n            if(whitelist.includes(from)) {\n                const url = \"https://api.defender.openzeppelin.com/autotasks/b939da27-4a61-4464-8d7e-4b0c5dceb270/runs/webhook/f662ac31-8f56-4b4c-9526-35aea314af63/SPs6smVfv41kLtz4zivxr8\";\n                const forwarder = createInstance(library)\n                const data = deb0xContract.interface.encodeFunctionData(\"unstake\",\n                    [ethers.utils.parseEther(amountToUnstake.toString())])\n                const to = deb0xContract.address\n                try {\n                    const request = await signMetaTxRequest(library, forwarder, { to, from, data });\n\n                    gaEventTracker(\"Success: Unstake\");\n        \n                    await fetchUnstakeResult(request, url)\n        \n                } catch (error: any) {\n                    setNotificationState({\n                        message: \"You rejected the transaction. DBX were not unstaked.\",\n                        open: true,\n                        severity: \"info\"\n                    })\n                    setLoading(false)\n\n                    gaEventTracker(\"Rejected: Unstake\");\n                }\n            } else { \n                await sendUnstakeTx(deb0xContract)\n            }\n        }\n\n        async function fetchStakeResult(request: any, url: any) {\n            await fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(request),\n                headers: { 'Content-Type': 'application/json' },\n            })\n                .then((response) => response.json())\n                .then(async (data) => {\n                    try{\n                        const {tx: txReceipt} = JSON.parse(data.result)\n                        if(txReceipt.status == 1){\n                            setNotificationState({\n                                message: \"You succesfully staked your DBX.\", open: true,\n                                severity: \"success\"\n                            })\n                        } else {\n                            setNotificationState({\n                                message: \"DBX couldn't be claimed!\", open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    } catch(error) {\n                        if(data.status == \"pending\") {\n                            setNotificationState({\n                                message: \"Your transaction is pending. Your DBX should be staked shortly\",\n                                open: true,\n                                severity: \"info\"\n                            })\n                        } else if(data.status == \"error\") {\n                            setNotificationState({\n                                message: \"Transaction relayer error. Please try again\",\n                                open: true,\n                                severity: \"error\"\n                            })\n                            setLoading(false)\n                        }\n                    }\n                    \n                })\n        }\n\n        async function sendStakeTx(deb0xContract: any) {\n            try {\n                const tx = await deb0xContract.stake(ethers.utils.parseEther(amountToStake.toString()))\n\n                tx.wait()\n                    .then((result: any) => {\n                        setNotificationState({\n                            message: \"Your tokens were succesfully staked.\", open: true,\n                            severity: \"success\"\n                        })\n                        //setLoading(false)\n\n                    })\n                    .catch((error: any) => {\n                        setNotificationState({\n                            message: \"Your tokens couldn't be staked!\", open: true,\n                            severity: \"error\"\n                        })\n                        setLoading(false)\n                    })\n            } catch(error) {\n                setNotificationState({\n                    message: \"You rejected the transaction. Your tokens haven't been staked.\",\n                    open: true,\n                    severity: \"info\"\n                })\n                setLoading(false)\n            }\n        }\n\n        async function stake() {\n            setLoading(true)\n\n            const signer = await library.getSigner(0)\n\n            const deb0xContract = Deb0x(signer, deb0xAddress)\n            \n            const from = await signer.getAddress();\n            if(whitelist.includes(from)){\n                const url = \"https://api.defender.openzeppelin.com/autotasks/b939da27-4a61-4464-8d7e-4b0c5dceb270/runs/webhook/f662ac31-8f56-4b4c-9526-35aea314af63/SPs6smVfv41kLtz4zivxr8\";\n                const forwarder = createInstance(library)\n                const data = deb0xContract.interface.encodeFunctionData(\"stake\",\n                    [ethers.utils.parseEther(amountToStake.toString())])\n                const to = deb0xContract.address\n\n                try {\n                    const request = await signMetaTxRequest(library, forwarder, { to, from, data });\n\n                    gaEventTracker(\"Success: Stake\");\n        \n                    await fetchStakeResult(request, url)\n        \n                } catch (error: any) {\n                    setNotificationState({\n                        message: \"You rejected the transaction. DBX were not staked.\",\n                        open: true,\n                        severity: \"info\"\n                    })\n                    setLoading(false)\n                    gaEventTracker(\"Rejected: Stake\");\n                }\n            } else {\n                await sendStakeTx(deb0xContract)\n            }\n        }\n\n        return (\n            <Card variant = \"outlined\" className=\"card-container\">\n                <ToggleButtonGroup\n                    color=\"primary\"\n                    value={alignment}\n                    exclusive\n                    onChange={handleChange}\n                    className=\"tab-container\"\n                >\n                    <ToggleButton className=\"tab-btn\" value=\"stake\">Stake</ToggleButton>\n                    <ToggleButton className=\"tab-btn\" value=\"unstake\" >Unstake</ToggleButton>\n\n                </ToggleButtonGroup>\n              \n            {\n                alignment === \"stake\" ?\n                \n                <>\n                <CardContent className=\"row\">\n                    <div className=\"col-6 px-3\">\n                        <img className=\"display-element\" src={theme === \"classic\" ? coinBagDark : coinBagLight} alt=\"coinbag\" />\n                        <Typography className=\"p-0\">\n                            Your staked amount:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"p-0 data-height\">\n                            <strong>{userStakedAmount} DBX</strong>\n                        </Typography>\n                    </div>\n                    <div className=\"col-6 px-3\">\n                        <img className=\"display-element\" src={theme === \"classic\" ? walletDark : walletLight} alt=\"coinbag\" />\n                        <Typography className=\"p-0\">\n                            Your tokens in wallet:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"p-0\" data-height>\n                            <strong>{userUnstakedAmount} DBX</strong>\n                        </Typography>\n                    </div>\n                    {approved && <Grid className=\"amount-row px-3\" container>\n                        <Grid item>\n                            <OutlinedInput id=\"outlined-basic\"\n                                placeholder=\"Amount to stake\"\n                                type=\"number\"\n                                value={amountToStake}\n                                inputProps={{ min: 0 }}\n                                onChange={e => setAmountToStake(e.target.value)} />\n                        </Grid>\n                        <Grid className=\"max-btn-container\" item>\n                            <Button className=\"max-btn\" \n                                size=\"small\" variant=\"contained\" color=\"error\" \n                               onClick = {()=>setAmountToStake(userUnstakedAmount)  }>\n                                max\n                            </Button>\n                        </Grid>\n                    </Grid>}\n                </CardContent>\n                <CardActions className='button-container px-3'>\n                    {approved && <LoadingButton disabled={!amountToStake} className=\"collect-btn\" loading={loading} variant=\"contained\" onClick={stake}>Stake</LoadingButton>}\n                    {!approved &&\n                        <>\n                            <LoadingButton \n                                className=\"collect-btn\" \n                                loading={loading}\n                                variant=\"contained\"\n                                disabled={ userUnstakedAmount === '0.00' ||  userUnstakedAmount === '0'}\n                                onClick={approveStaking}>\n                                    Initialize Staking\n                            </LoadingButton>\n                            <span className=\"text\">\n                                You first need to have tokens in your wallet before you can Initialize Staking.\n                            </span>\n                        </> \n                    }\n                </CardActions>\n                </>\n                : \n\n                <>\n                <CardContent className=\"row\">\n                    <div className=\"col-6 px-3\">\n                        <img className=\"display-element\" src={theme === \"classic\" ? coinBagDark : coinBagLight} alt=\"coinbag\" />\n                        <Typography className=\"p-0\">\n                            Available to unstake:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"p-0\">\n                            <strong>{tokensForUnstake} DBX</strong>\n                        </Typography>\n                    </div>\n                    <div className=\"col-6 px-3\">\n                        <img className=\"display-element\" src={theme === \"classic\" ? walletDark : walletLight} alt=\"coinbag\" />\n                        <Typography className=\"p-0\">\n                            Your actual stake:\n                        </Typography>\n                        <Typography variant=\"h6\" className=\"p-0 data-height\">\n                            <strong>{userStakedAmount} DBX</strong>\n                        </Typography>\n                    </div>\n                  \n\n                    <Grid className=\"amount-row px-3\" container>\n                        <Grid item>\n                            <OutlinedInput value={amountToUnstake}\n                                id=\"outlined-basic\"\n                                className=\"max-field\"\n                                placeholder=\"Amount to unstake\"\n                                onChange={e => setAmountToUnstake(e.target.value)}\n                                inputProps={{ min: 0 }}\n                                type=\"number\" />\n                        </Grid>\n                        <Grid className=\"max-btn-container\" item>\n                            <Button className=\"max-btn\"\n                                size=\"small\" variant=\"contained\" color=\"error\" \n                                onClick = {()=>setAmountToUnstake(tokensForUnstake)  }>\n                                max\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </CardContent>\n                <CardActions className='button-container px-3'>\n                    <LoadingButton className=\"collect-btn\" disabled={!amountToUnstake} loading={loading} variant=\"contained\" onClick={unstake}>Unstake</LoadingButton>\n                </CardActions>\n                </>\n            }\n\n            </Card>\n\n        )\n    }\n\n    function TotalStaked() {\n        const [totalStaked, setTotalStaked] = useState(\"\")\n        useEffect(() => {\n            totalAmountStaked()\n        }, [totalStaked]);\n    \n        async function totalAmountStaked() {\n    \n            const deb0xContract = await Deb0x(library, deb0xAddress)\n\n            const currentCycle= await deb0xContract.currentStartedCycle()\n\n            const currentStake = await deb0xContract.summedCycleStakes(currentCycle)\n\n            const pendingStakeWithdrawal = await deb0xContract.pendingStakeWithdrawal()\n    \n            // setTotalStaked(ethers.utils.formatEther(currentStake))\n\n            setTotalStaked(floorPrecised(ethers.utils.formatEther(currentStake.sub(pendingStakeWithdrawal))))\n\n        }\n\n        return (\n            <Card className=\"heading-card\">\n                <CardContent>\n                    <Typography variant=\"h5\">\n                        Total tokens staked:\n                    </Typography>\n                    <Typography variant=\"h4\">\n                        <img className=\"logo\" src={token} />\n                        {totalStaked} DBX\n                    </Typography>\n                </CardContent>\n            </Card>\n        )\n    }\n\n    return (\n        <>\n            <SnackbarNotification state={notificationState} setNotificationState={setNotificationState} />\n            <Box className=\"content-box stake-content\">\n                <div className=\"cards-grid\">\n                    <div className='row'>\n                        <Grid item className=\"col col-md-6 \">\n                            <FeesPanel />\n                            <RewardsPanel />\n                        </Grid>\n                        <Grid item className=\"col col-md-6\">\n                            <CyclePanel />\n                            <StakeUnstake/>\n                        </Grid>\n                    </div>\n                </div>\n            </Box>\n        </>\n    )\n}","import { useState, useEffect } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport Deb0x from \"../../ethereum/deb0x\"\nimport {\n    List, ListItem, Chip,\n    ListItemText, ListItemButton, \n    Box, CircularProgress, Stack\n} from '@mui/material';\nimport Stepper from './Stepper'\nimport IconButton from \"@mui/material/IconButton\";\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\nimport Pagination from \"@mui/material/Pagination\";\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport '../../componentsStyling/decrypt.scss';\nimport formatAccountName from '../Common/AccountName';\nimport cloud1 from '../../photos/icons/clouds/cloud-1.svg';\nimport cloud2 from '../../photos/icons/clouds/cloud-2.svg';\nimport cloud3 from '../../photos/icons/clouds/cloud-3.svg';\nimport {fetchSentMessagesMoralis,getKeyMoralis} from '../../ethereum/EventLogsMoralis.js';;\n\nconst axios = require('axios')\nconst deb0xAddress = \"0xA06735da049041eb523Ccf0b8c3fB9D36216c646\";\n\nexport function Sent(props: any): any {\n    const { account, library } = useWeb3React()\n    const [loading, setLoading] = useState(true)\n    const [encryptionKeyInitialized, setEncryptionKeyInitialized] = useState<boolean|undefined>(undefined)\n    const [messageSent, setmessageSent] = useState(false);\n\n    useEffect(() => {\n        setLoading(true)\n        getPublicEncryptionKey()\n    }, [account]);\n\n    const getPublicEncryptionKey = async () => {\n        const deb0xContract = Deb0x(library, deb0xAddress)\n        const key = await getKeyMoralis(account)\n        const initialized = (key != '') ? true : false\n        setEncryptionKeyInitialized(initialized)\n    }\n\n    async function decrypt(encryptedMessage: any) {\n        try {\n            const decryptedMessage = await library.provider.request({\n                method: 'eth_decrypt',\n                params: [encryptedMessage, account],\n            });\n            return decryptedMessage\n        } catch (error) {\n            return undefined\n        }\n    }\n\n    async function fetchMessage(message: any) {\n        return await axios.get(`https://deb0x-test.infura-ipfs.io/ipfs/${message}`)\n    }\n\n    function Message(props: any) {\n        const { chainId} = useWeb3React()\n        const encryptMessage = props.message.fetchedMessage.data\n        const [message, setMessage] = useState(props.message.fetchedMessage.data)\n        const [recipients, setRecipients] = useState<string[]>([]);\n        //const [sender, setSender] = useState(props.messsage.sender)\n        const [messageTime,setMessageTime] = useState(props.message.timestamp)\n        const [ensName,setEnsName] = useState(\"\");\n        const [isDecrypted, setIsDecrypted] = useState(false);\n        const savedContacts = JSON.parse(localStorage.getItem('contacts') || 'null'); \n        const min = 1;\n        const max = 50;\n        const [randomImage] = useState<number>(Math.floor(Math.random() * (max - min + 1)) + min);\n        \n        useEffect(()=> {\n            checkENS();\n        },[])\n\n        useEffect(()=>{\n            if(props.index !== props.previousIndex && isDecrypted===true){\n                hideMessage();\n            }\n\n        },[props.previousIndex])\n\n        function onlyUnique(value: any, index: any, self: string | any[]) {\n            return self.indexOf(value) === index;\n        }\n\n        async function checkENS() {\n            let recipientsTemp:any = []\n            const recipients = props.message.recipients.filter((recipient:any) => recipient.toLowerCase() != account?.toLowerCase());\n            var recipientsFiltered = recipients.filter(onlyUnique);\n\n            for(let recipient of recipientsFiltered) {\n\n                // not suported for Polygon\n                // let name = await library.lookupAddress(recipient);\n                // if(name !== null)\n                // {   \n                //     recipientsTemp = [...recipientsTemp, name];\n                // } else {\n                //     recipientsTemp = [...recipientsTemp, recipient];\n                // }\n                recipientsTemp = [...recipientsTemp, recipient];\n\n            }\n\n            setRecipients(recipientsTemp)\n        }\n\n        async function decryptMessage() {\n            const decryptedMessage = await decrypt(message)\n            if(decryptedMessage) {\n                setIsDecrypted(false);\n                setMessage(decryptedMessage);\n                setIsDecrypted(true);\n                props.setPreviousIndex(props.index);\n            }\n        }\n\n        async function hideMessage(){\n            setMessage(encryptMessage);\n            setIsDecrypted(false);\n        }\n\n        function checkSenderInLocalStorage(sender: any) {\n            let user: any;\n\n            if (ensName !== \"\") {\n                user = ensName;\n            } else {\n                savedContacts.map((contact: any) => {\n                    if (sender == contact.address) {\n                        user = true;\n                    }\n                })\n            }\n\n           return user;\n        }\n\n        function handleDecryptMessage() {\n            if(message === props.message.fetchedMessage.data) {\n                decryptMessage()\n            }\n        }\n    \n        return (\n            <ListItem disablePadding key={props.index}\n                secondaryAction={ \n                    <IconButton \n                        className={`${(message != props.message.fetchedMessage.data) ? \"list-item-btn\" : \"\"}`}  \n                        onClick={()=> hideMessage() }  edge=\"end\" aria-label=\"comments\">\n                        { (message != props.message.fetchedMessage.data) ? <VisibilityOffIcon  />: null}\n                    </IconButton>  \n                }\n                className=\"messages-list-item\"\n            >\n                <ListItemButton className={`list-item-button ${isDecrypted ? \"active\" : \"\"}` }\n                    onClick={() => handleDecryptMessage()}>\n                    <div>\n                        <img width=\"58px\" height=\"58px\" src={require(`../../photos/icons/avatars/animal-${randomImage}.svg`).default} alt=\"avatar\"/>\n                    </div>\n                    <ListItemText primary={\n                        <>\n                            <div className=\"message-left\">\n                                <div className=\"message-heading\">\n                                    <div className=\"d-flex align-items-center\">\n                                        <small>To: </small>\n                                        <div className=\"message-overflow\">\n                                            {\n                                                recipients.length > 0 ?\n                                                recipients.map((recipient: any) => {\n                                                    return (\n                                                        <span\n                                                            key={recipient}>\n                                                                {\n                                                                checkSenderInLocalStorage(recipient) ?\n                                                                    savedContacts.filter((contact: any) => recipient == contact.address)\n                                                                        .map((filteredPerson: any) => (\n                                                                            filteredPerson.name\n                                                                        )) :\n                                                                        formatAccountName(recipient)\n                                                                }\n                                                                {\n                                                                    recipients.length > 1 ? <>, </> : <></>\n                                                                }\n                                                        </span>\n                                                    )\n                                                }) :\n                                                account\n                                            }\n                                        </div>\n                                        {\n                                            recipients.length > 1 ? <span>({recipients.length})</span> : <></>\n                                        }\n                                    </div>\n                                    <p className=\"time-stamp\">\n                                        <small>\n                                            {messageTime}\n                                        </small>\n                                    </p>\n                                </div>\n                                <p className={`message message-overflow\n                                        ${message === props.message.fetchedMessage.data ? \n                                        \"message-overflow\" : \"\"}` }\n                                    dangerouslySetInnerHTML={{ __html: message }}>\n                                </p>\n                            </div>\n                        </>\n                    }/>\n                </ListItemButton>\n                {isDecrypted ? \n                    <div className=\"message-right full-height\">\n                        <div className=\"message-right--container\">\n                            <div className=\"message-heading\">\n                                <div className=\"address\">\n                                    <p>To:\n                                        <strong>\n                                        {\n                                            recipients.map((recipient: any) => {\n                                                return (\n                                                    <span\n                                                        key={recipient}>\n                                                            {\n                                                            checkSenderInLocalStorage(recipient) ?\n                                                                savedContacts.filter((contact: any) => recipient == contact.address)\n                                                                    .map((filteredPerson: any) => (\n                                                                        filteredPerson.name\n                                                                    )) :\n                                                                    recipient\n                                                            }\n                                                                                                                        {\n                                                                    recipients.length > 1 ? <> | </> : <></>\n                                                                }\n                                                    </span>\n                                                )\n                                            }) \n                                        }\n                                        </strong>\n                                    </p>\n                                </div>\n                                <p className=\"time-stamp\">\n                                    <small>\n                                        {messageTime}\n                                    </small>\n                                </p>\n                            </div>\n                            <p className={`message ${message === props.message.fetchedMessage.data ? \"message-overflow\" : \"\"}` }\n                                dangerouslySetInnerHTML={{ __html: message }}>\n                            </p>\n                        </div>\n                    </div> : \n                    <></>\n                }\n            </ListItem>\n            )\n    }\n\n    function GetMessages() {\n        const [fetchedMessages, setFetchedMessages] = useState<any>([]);\n        const [sortedMessages, setSortedMessages] = useState<any>([]);\n        const [previousIndex,setPreviousIndex] = useState<number>();\n\n        useEffect(() => {\n            processMessages()\n        }, []);\n\n        async function processMessages() {\n            const deb0xContract = Deb0x(library, deb0xAddress)\n            const sentMessages = await fetchSentMessagesMoralis(account)\n            const sentMessagesRetrieved = sentMessages.map(async function (item: any) {\n                let intermediateValueForContentData = item[1];\n                let intermediateValueForRecipients = item[0];\n                if(intermediateValueForContentData[0].contentData !== undefined) {\n                    const fetchedMessageContent = await fetchMessage(intermediateValueForContentData[0].contentData.content)\n                    const unixTimestamp = intermediateValueForContentData[0].contentData.timestamp.toString()\n    \n                    const milliseconds = unixTimestamp * 1000 \n    \n                    const dateObject = new Date(milliseconds)\n                    const humanDateFormat = dateObject.toLocaleString()\n                    return { fetchedMessage: fetchedMessageContent,\n                             recipients: intermediateValueForRecipients[0].recipients,\n                             timestamp: humanDateFormat}\n                } else {\n                    return { fetchedMessage: \"\",\n                        recipients: intermediateValueForRecipients[0].recipients,\n                        timestamp: \"\"}\n                }\n                \n            })\n\n            const messages = await Promise.all(sentMessagesRetrieved)\n            setFetchedMessages(messages)\n            setSortedMessages(messages)\n            setLoading(false)\n        }\n\n        if(!loading) {\n            if (fetchedMessages.length === 0) {\n                return (\n                    <>\n                        <div className='clouds'>\n                            <div className=\"cloudOne\">\n                                <img src={cloud2} alt=\"cloud-2\" />\n                            </div>\n                            <div className=\"cloudTwo\">\n                                <img src={cloud1} alt=\"cloud-1\" />\n                            </div>\n                            <div className=\"cloudThree\">\n                                <img src={cloud3} alt=\"cloud-3\" />\n                            </div>\n                            <div className=\"cloudText\">\n                                Cloudy with a chance of messages\n                            </div>\n                        </div>\n                    </>\n                )\n            } else {\n                return (\n                    <div className=\"row messages-list\">\n                        <List className=\"col-md-4 col-sm-12\">\n                            <Box className=\"pagination\" sx={{display:\"flex\"}}>\n                                <Pagination count={1} />\n                                <IconButton size=\"large\" onClick={()=> setLoading(true) }>\n                                    <RefreshIcon fontSize=\"large\"/>\n                                </IconButton>\n                            </Box>\n                            {sortedMessages.map((message: any, i: any) => {\n                                return (\n                                    <Message message={message} index={i} \n                                        key={i} previousIndex={previousIndex} \n                                        setPreviousIndex={setPreviousIndex} />\n                                )\n                            })}\n                        </List>\n                        <Box className=\"intro-box sent col-md-8\">\n                            <div className=\"open-message\">\n                            </div>\n                        </Box>\n                    </div>\n                )\n            }\n        } else {\n            return (\n                <div className=\"spinner\">\n                    <CircularProgress/>\n                </div>\n            )\n        }\n\n    }\n    \n    if(encryptionKeyInitialized == true){\n        return (\n            <div className=\"content-box\">\n                <GetMessages />\n           </div>\n        )\n    } else if(encryptionKeyInitialized == false){\n        return (\n            <Stepper onDeboxInitialization={getPublicEncryptionKey}/>\n        )\n    } else{\n        return(\n            <div className=\"spinner\">\n                <CircularProgress/>\n            </div>\n        )\n    }\n}","import { createContext } from \"react\";\n\nexport const initialThemeState = {\n  theme: \"classic\",\n  setTheme: (_value: string) => {}\n};\n\nconst ThemeContext = createContext(initialThemeState);\nexport default ThemeContext;","import { useState, useEffect } from \"react\";\nimport ThemeContext, { initialThemeState } from \"./ThemeContext\";\n\ntype Props = {\n    children: JSX.Element|JSX.Element[],\n};\n\nconst ThemeProvider = ( { children }: Props ) => {\n  const [theme, setTheme] = useState<any>(initialThemeState.theme);\n\n  const localStorage = window.localStorage;\n\n  useEffect(() => {\n    const savedThemeLocal = localStorage.getItem(\"globalTheme\");\n\n    if (!!savedThemeLocal) {\n      setTheme(savedThemeLocal);\n    }\n  }, [localStorage]);\n\n  useEffect(() => {\n    localStorage.setItem(\"globalTheme\", theme);\n  }, [theme, localStorage]);\n\n  return (\n    <ThemeContext.Provider value={{ theme, setTheme }}>\n      <div className={`theme theme--${theme}`}>{children}</div>\n    </ThemeContext.Provider>\n  );\n};\n\nexport default ThemeProvider;\n","import { useState, useEffect } from \"react\";\nimport ContactsContext, { initialContacts } from './ContactsContext';\n\ntype Props = {\n    children: JSX.Element|JSX.Element[],\n};\n\nconst ContactsProvider = ( { children }: Props ) => {\n    const [contacts, setContacts] = useState<any>(initialContacts.contacts);\n  \n    const localStorage = window.localStorage;\n  \n    useEffect(() => {\n        const savedContacts = JSON.parse(localStorage.getItem('contacts') || 'null');\n        \n        if (!!savedContacts) {\n            setContacts(savedContacts);\n        }\n    }, [localStorage]);\n  \n  \n    useEffect(() => {\n        localStorage.setItem('contacts', JSON.stringify(contacts));\n    }, [contacts, localStorage]);\n    \n    return (\n      <ContactsContext.Provider value={{ contacts, setContacts }}>\n        <>{children}</>\n      </ContactsContext.Provider>\n    );\n  };\n  \n  export default ContactsProvider;","export default __webpack_public_path__ + \"static/media/elephant.2a77170b.svg\";","export default __webpack_public_path__ + \"static/media/logo-green.a6b7a360.svg\";","export default __webpack_public_path__ + \"static/media/empty.efc45323.png\";","// <!-- By Sam Herbert (@sherb), for everyone. More @ http://goo.gl/7AJzbL -->\nexport function Spinner({ color, ...rest }: any) {\n    return (\n        <svg width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" \n            xmlns=\"http://www.w3.org/2000/svg\" stroke={color} {...rest}>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <g transform=\"translate(1 1)\" strokeWidth=\"2\">\n                    <circle strokeOpacity=\".5\" cx=\"18\" cy=\"18\" r=\"18\" />\n                    <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n                    <animateTransform\n                        attributeName=\"transform\"\n                        type=\"rotate\"\n                        from=\"0 18 18\"\n                        to=\"360 18 18\"\n                        dur=\"1s\"\n                        repeatCount=\"indefinite\" />\n                    </path>\n                </g>\n            </g>\n        </svg>\n    )\n}","import Switch from \"@mui/material/Switch\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport '../componentsStyling/themeSetter.scss';\n\nimport ThemeContext from \"./Contexts/ThemeContext\";\n\nexport default function ThemeSetter() {\n    const useTheme = () => useContext(ThemeContext);\n    const { theme, setTheme } = useTheme()!;\n    const [checked, setChecked] = useState<boolean>(theme === \"classic\" ? true : false);\n\n    useEffect(() => {\n        if(theme === \"classic\") {\n            setChecked(true);\n        } else {\n            setChecked(false);\n        }\n    }, [])\n\n    const handleChange = (event: any) => {\n        setChecked(event.target.checked);\n        event.target.checked ? setTheme(\"classic\") : setTheme(\"dark\")\n    };\n\n  return (\n    <>\n        <Switch\n        className=\"theme-switcher\"\n        checked={checked}\n        onChange={handleChange}\n        value=\"checked\"\n        />\n        <img className=\"theme-icon-dark\" src={require('../photos/icons/theme-switch-dark.svg').default}/>\n        <img className=\"theme-icon-light\" src={require('../photos/icons/theme-switch-light.svg').default}/>\n    </>\n\n\n    \n  );\n}\n\nconst themeOptions = [{ value: \"classic\" }, { value: \"dark\" }];","import React, { useEffect, useState } from 'react';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport { injected } from '../../connectors';\nimport { useWeb3React } from '@web3-react/core';\nimport ThemeSetter from '../ThemeSetter';\nimport { Spinner } from './Spinner';\nimport { ethers } from 'ethers';\nimport { useEagerConnect } from '../../hooks';\nimport { id } from 'ethers/lib/utils';\nimport formatAccountName from '../Common/AccountName';\nimport Deb0x from \"../../ethereum/deb0x\"\nimport Deb0xViews from \"../../ethereum/deb0xViews\";\nimport Deb0xERC20 from \"../../ethereum/deb0xerc20\";\nimport Popper from '@mui/material/Popper';\nimport ClickAwayListener from '@mui/base/ClickAwayListener';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport SnackbarNotification from './Snackbar';\nimport '../../componentsStyling/appBar.scss';\nimport copyIcon from '../../photos/icons/copy-1.svg';\nimport walletIcon from '../../photos/icons/wallet.svg';\nimport disconnectIcon from '../../photos/icons/diconnect.svg';\nimport { disconnect } from 'process';\n\n\nconst deb0xAddress = \"0xA06735da049041eb523Ccf0b8c3fB9D36216c646\";\nconst deb0xViewsAddress = \"0x51CcBf6DA6c14b6A31Bc0FcA07056151fA003aBC\";\nconst deb0xERC20Address = \"0x22c3f74d4AA7c7e11A7637d589026aa85c7AF88a\"\nconst tokenSymbol = 'DBX';\n\nconst tokenDecimals = 18;\nenum ConnectorNames { Injected = 'Injected' };\n\nconst connectorsByName: { [connectorName in ConnectorNames]: any } = {\n    [ConnectorNames.Injected]: injected\n}\n\nexport function AppBarComponent(props: any): any {\n    const context = useWeb3React();\n    const { connector, library, chainId, account, activate, deactivate, active, error } = context\n    const [activatingConnector, setActivatingConnector] = useState<any>();\n    const [networkName, setNetworkName] = useState<any>();\n    const [userUnstakedAmount,setUserUnstakedAmount] = useState<any>(0);\n    const triedEager = useEagerConnect();\n    const [ensName, setEnsName] = useState<any>(\"\");\n    const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n    const [notificationState, setNotificationState] = useState({})\n    const [theme, setTheme] = useState(localStorage.getItem('globalTheme'));\n    const [userStakedAmount, setUserStakedAmount] = useState(\"\")\n    const [rewardsUnclaimed, setRewardsUnclaimed] = useState(\"\")\n    const [open, setOpen] = useState<any>();\n    const deb0xViewsContract = Deb0xViews(library, deb0xViewsAddress)\n    const [totalStaked, setTotalStaked] = useState(\"\")\n\n    const id = open ? 'simple-popper' : undefined;\n\n    if(library){\n        checkENS();\n        setUnstakedAmount();\n    }\n\n    useEffect(() => {\n        totalAmountStaked()\n    }, [totalAmountStaked]);\n\n    useEffect(() => {\n        setTheme(localStorage.getItem('globalTheme'));\n    });\n\n    useEffect(() => {\n        injected.supportedChainIds?.forEach(chainId => \n            setNetworkName((ethers.providers.getNetwork(chainId).name)));\n        if (activatingConnector && activatingConnector === connector) {\n            setActivatingConnector(undefined)\n        }\n    }, [activatingConnector, connector]);\n\n    async function setUnstakedAmount() {\n        const deb0xERC20Contract = Deb0xERC20(library, deb0xERC20Address)\n        if(account){\n            await deb0xERC20Contract.balanceOf(account).then((result: any) => \n                setUserUnstakedAmount(floorPrecised(ethers.utils.formatEther(result)))\n            )\n        }\n    }\n\n    useEffect(() => {\n        const deb0xERC20Contract = Deb0xERC20(library, deb0xERC20Address)\n        const filterFrom = deb0xERC20Contract.filters.Transfer(account)\n        const filterTo =  deb0xERC20Contract.filters.Transfer(null, account)\n        deb0xERC20Contract.on(filterFrom, () => {\n            setUnstakedAmount()\n        })\n        deb0xERC20Contract.on(filterTo, () => {\n            setUnstakedAmount()\n        })\n\n        return () => {\n            deb0xERC20Contract.removeAllListeners()\n        }\n    },[])\n\n    async function checkENS(){\n        if(chainId !=137){\n            var name = await library.lookupAddress(account);\n            if(name !== null)\n            {   \n                setEnsName(name);\n            }\n        }\n       \n    }\n\n    function floorPrecised(number:any) {\n        var power = Math.pow(10, 2);\n        return (Math.floor(parseFloat(number) * power) / power).toString();\n    }\n\n    async function totalAmountStaked() {\n        const deb0xContract = Deb0x(library, deb0xAddress)\n        const currentCycle= await deb0xContract.currentStartedCycle()\n        const currentStake = await deb0xContract.summedCycleStakes(currentCycle)\n        const pendingStakeWithdrawal = await deb0xContract.pendingStakeWithdrawal()\n        setTotalStaked(floorPrecised(ethers.utils.formatEther(currentStake.sub(pendingStakeWithdrawal))))\n    }\n\n    async function addToken() {\n        try {\n            const wasAdded = await window.ethereum.request({\n              method: 'wallet_watchAsset',\n              params: {\n                type: 'ERC20',\n                options: {\n                  address: deb0xERC20Address,\n                  symbol: tokenSymbol,\n                  decimals: tokenDecimals,\n                //   image: tokenImage,\n                },\n              },\n            });\n\n            if (wasAdded) {\n                setNotificationState({\n                    message: \"The token was added in your wallet\",\n                    open: true,\n                    severity: \"success\"\n                })      \n                setOpen(false)      \n            }\n            } catch (error: any) {\n                setNotificationState({\n                    message: \"There was an error. Try again later\",\n                    open: true,\n                    severity: \"info\"\n                })\n            }\n    }\n\n    function copyWalletID() {\n        if(account) {\n            navigator.clipboard.writeText(account)\n            setNotificationState({\n                message: \"The address ID was copied successfully\",\n                open: true,\n                severity: \"success\"\n            })\n        }\n        setOpen(false)\n        \n    }\n\n    async function rewardsAccrued() {\n        await deb0xViewsContract.getUnclaimedRewards(account).then((result: any) => \n            setRewardsUnclaimed(floorPrecised(ethers.utils.formatEther(result)))\n        )\n    }\n\n    async function setStakedAmount() {\n        await deb0xViewsContract.getAccWithdrawableStake(account).then((result: any) => \n            setUserStakedAmount(floorPrecised(ethers.utils.formatEther(result)))\n        )\n    }\n\n    const handleClick = (event: any) => {\n        rewardsAccrued();\n        setStakedAmount();\n        setUnstakedAmount();\n        const { currentTarget } = event;\n        setAnchorEl(currentTarget)\n        setOpen(!open)\n      };\n\n     const handleClickAway = () => {\n        setOpen(false)\n      };\n    \n    return (\n        <ClickAwayListener onClickAway={handleClickAway}>\n            <div>\n                <div className=\"app-bar--top\">\n                    <Box className=\"main-menu--left\">\n                        <p className=\"mb-0\">Total tokens staked: {totalStaked} DBX</p>\n                    </Box>\n                    <Box className=\"main-menu--right\">\n                    \n                    { (() =>  {\n                        const currentConnector = connectorsByName[ConnectorNames.Injected]\n                        const activating = currentConnector === activatingConnector\n                        const connected = currentConnector === connector\n                        const disabled = !triedEager || !!activatingConnector || connected || !!error\n\n                        return (\n                                <Button variant=\"contained\"\n                                    key={ConnectorNames.Injected}\n                                    aria-describedby={id}\n                                    onClick={!connected ? \n                                        () => {\n                                            setActivatingConnector(currentConnector)\n                                            activate(currentConnector)\n                                        } : \n                                        handleClick\n                                    }>\n                                    \n                                    { activating ? \n                                        <Spinner color={'black'} /> :\n                                        !connected ? \n                                            \"Connect Wallet\" :\n                                            <span>\n                                                {account === undefined ? \n                                                    `Unsupported Network. Switch to ${networkName}` : \n                                                    account ? \n                                                        ensName === \"\" ? \n                                                            `${formatAccountName(account)}` :\n                                                            `${ensName.toLowerCase()} \n                                                            (${formatAccountName(account)})`\n                                                    : ''}\n                                            </span>\n                                    }\n                                </Button>\n                        )\n                    }) ()}\n                            \n                        <ThemeSetter />\n                    </Box>\n                </div>\n                <Popper className={`popper ${theme === \"classic\" ? \"classic\" : \"dark\"}` }  \n                    id={id} open={open} anchorEl={anchorEl}>\n                    <ul>\n                        <li>\n                            Unclaimed rewards: <br/> \n                            <b>{rewardsUnclaimed} <span>DBX</span></b>\n                        </li>\n                        <li>\n                            Active stake: <br/> \n                            <b>{userStakedAmount} <span>DBX</span></b>\n                        </li>\n                        <li>\n                            In wallet: <br/> \n                            <b>{userUnstakedAmount} <span>DBX</span></b>\n                        </li>\n                    </ul>\n                    <Button \n                        onClick={() => copyWalletID() }\n                        className=\"copy-wallet-btn\">\n                        <span><img src={copyIcon} /></span>Copy wallet ID\n                    </Button>\n                    <Button\n                        onClick={() => addToken() }\n                        className=\"add-token-btn\">\n                         <span><img src={walletIcon}/></span>Add token to wallet\n                    </Button>\n                    <Button \n                        onClick={(event: any) => {\n                            handleClick(event)\n                            deactivate()\n                        }}\n                            className=\"logout-btn\">\n                             <span><img src={disconnectIcon}/></span>Disconnect wallet\n                    </Button>  \n\n                </Popper>\n            </div>\n        </ClickAwayListener>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/copy-1.6be37e8f.svg\";","export default __webpack_public_path__ + \"static/media/wallet.0d69376a.svg\";","export default __webpack_public_path__ + \"static/media/diconnect.a287fc1c.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAAABHNCSVQICAgIfAhkiAAAAwZJREFUaEPtms1y2jAQgHehU3orfYKaI3AoCe05HEkuJU9Q8gbJG9AnKDwB9A3cC+FWODck7iHhWPMGcCudwnbl4I4pxhYTYSNqzTDMWH/7SbsraSWEgHR/9q6EsDgBghoXM5a/oCpR5NnciQ0IJkFqUOx+szZ1in4Zo2rJIEy3Oa8ShbRP7MNEml/le5aAXklrcKPqcZ0QBZhWCYku8r3bjlfoFbj7s3IbCepaUXmEJYROsTu8cD/9hdN1xtZU0TODDtzSxn7oOmPrgPOcsEEH7uG0/FUT5yE7/mbheniOjrunxZ1sLV3KsQfN4cPp8SUAftJFaHk56UrA9RnuRL6SLiVpwHBl4UiMmERu8fpksQvPImKdCN4olMMWcKSwwW2aOmejN70VVGtRXHAtBmNbX02j6tsKIQnPrSRFDocI3/PdYWmT9KxJE857qYIuarjpLDM3jkxLAPgmlaoZJdyUMFUJOqI8bijUee+I4GgwyyxqQTPmTqNOcFMAahSub5uyNqQDHKsgNn89/92Uma1dLQe7UMsWO43GtlB7r5Z+p2FZddx3uDEvzE/exu2rzVkMdxQ0U3e1UvbFz2elfO+mr906x7b2apOt8c5DhAfb7Ghaxe5NQzs4Ftg5AXsFX4YwxHlRwAHDfdQVTshvsWMxKYUTDuZWXCgXWHe4QAeZwCmKDOxiEU9mTkdvGbohSWwusblQJYHEoYSPkXyJxOYSmwvXlsTmwsdIvkRic4drc2VxEbox3C6vI3wxF/0tDw04jinOeb5JpTwxwMGEwxE5v3CE6hcVccBxqGH1vYiYQhE8yszSQiWNbVQvqKyAs7nAa1UNbtGOE44ATPcJiOMrVOe62S3qhxUdH/qd+AG/ZjjodyhCcVWGsMMMIZJ8gi+F3rB2+G+/xGiqXmMimSGfTrw3TSvvLXlZ6HD5D3EJpqDfzxzOF0uKk/6fl7IusXN5Aekmo79XMJq7bYKdB8L8UuqNs1eSxxualLid4R8a/B/HTubfwRnzbsbmj/xwe2H6QbkV/gDq4dyd77nkXwAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/logo-dark.07aa80a9.svg\";","export default __webpack_public_path__ + \"static/media/logo-light.211bd651.svg\";","import { Add, SettingsPhoneTwoTone } from \"@mui/icons-material\";\nimport { Box, IconButton, Modal } from \"@mui/material\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport icon1 from '../photos/icons/icon-1.png';\nimport icon2 from '../photos/icons/icon-2.png';\nimport icon3 from '../photos/icons/icon-3.png';\nimport logoDark from \"../photos/logo-dark.svg\";\nimport logoLight from \"../photos/logo-light.svg\";\nimport iconParty from \"../photos/party-popper.png\"\n\nexport default function HowTo(props: any) {\n    const [name, setName] = useState<string>(\"\");\n    const [address, setAddress] = useState<string>(props.props);\n    const ref = useRef<any>(null);\n    const { onClickOutside } = props;\n    const [theme, setTheme] = useState(localStorage.getItem('globalTheme'));\n\n    function handleOnCancel() {\n        onClickOutside && onClickOutside();\n    }\n\n    useEffect(() => {\n        const handleClickOutside = (event: any) => {\n            if (ref.current && !ref.current.contains(event.target)) {\n                onClickOutside && onClickOutside();\n            }\n        };\n        document.addEventListener('click', handleClickOutside, true);\n        return () => {\n            document.removeEventListener('click', handleClickOutside, true);\n        };\n    }, [ onClickOutside ]);\n\n    return (\n        <>\n            <Modal open={props.show} className=\"initial-page-popup\">\n                <Box ref={ref} className={`modal-box ${theme === \"classic\" ? \"classic\" : \"dark\"}` }>\n                    <div className=\"how-to-use-list\">\n                        <a href=\"#\" onClick={() => handleOnCancel()} className=\"close-popup\">x</a>\n                        <h3>Before connecting to <img src={theme === \"classic\" ? logoDark : logoLight} />, make sure you:</h3>\n                        <ul>\n                            <li>\n                                <img src={icon1} />\n                                <h4>Install <span>MetaMask extension</span> from official website</h4>\n                                <a href=\"https://metamask.io/\" target=\"_blank\">https://metamask.io/</a>\n                            </li>\n                            <li>\n                                <img src={icon2} />\n                                <h4>Switch to <span>Polygon</span> network</h4>\n                            </li>\n                            <li>\n                                <img src={icon3} />\n                                <h4>Connect your <span>wallet</span></h4>\n                            </li>\n                        </ul>\n                        <h4>After all these steps, you should be ready to use app.deb0x.org <img src={iconParty} /></h4>\n                   </div>\n                </Box>\n            </Modal>\n        </>\n    );\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAAABHNCSVQICAgIfAhkiAAABBRJREFUaEPlmk9aGjEUwPOGfrosN+iwBBeitGtxp2yEE4gnUE9QPUHpCcQTFDfIrrCuKF0oy8IJqjvtVyZ9bzqjODCTTJLBjs33sdD8e7+85P3JBFhEua58KAJzNhhnVWxme7+oLouoG+EkIwasxZnVW2l/G4RNCvMqhltFm0PmBOvKi5BWc44W8MlhvjMg6GdlBm64tV7nAASWqgKc7+U7l81poZ/BXVdKJ8BZPVVUU8JyYM2Vdn/P/9cjXFo1NrMVpzTownln7EdaNTYLOMnRGXThbrZLX1NiPGTXv1U479fANffcuZLtlZZ2aEFzcLO9fsAYfEqL0PJy8kOC6yLchnyntLTkPYQrkSGxkxAZgH13GLRobMthuIhUHNuxLBv9Uhbry5yz1STmxjFHBMcND36HQUDj19LvxlprcCsamyy1Y72pIyweD/ZW1D5OvWm404flyYEMVFDIq2oxu3yfaWLMuBMHIKqtMbh54Y+KkLiTmthvV6VvsI8puM/oV2hbGSnDSmlg4ixqw5HRyLf7RSNU3iCmIiZ9OA6b+c6FZwnnI3pGYxUYt0U5mD+Cie2pCzfG7WhHaQ0D8o9oPY8CbbpoeGpRhgfhKEH+orMjdOEiz5og+uniwmxGCa/rprTgUCPHK+2LoFYe5UXhfuIf2TAADtZa1DUB9ic/qez7tOBw4hquvhuBBItMfgiC86obGmrBRWlOJo0Sw+mFhlpwqK1bNAy5oGGQNAZCY/SiZ87bigOyhnj2zlz/ZGV28CqwIbJyoohGcoEip9HVnIghpJ73CueXZYGlbGK9Vhi2cDiKaO6XJuUoH/fPRCjxVMd7D8tOVZQ1yBgjmXkXpjmRT3wKu8xdeywC7g5NflUUfxKcd1lFN3Ghjl9GY36bpOHGGIVUo6IQXxDTYDRuYnAyhuNpK7pBMn2fMKKxRDUXC6xS2pfxi3G2Y2JwccCS/vBidFvKgrmXQQ8ZMhxGM/igdo3ByYJ5hoOSUFtlq8XpYwROFmy49b7MgROYUcMRBmwCboyZQVEUdcjkd3G0ItPWBFxowuoL8DdWtCgQFhYAyJq41jPh54Q5mZBmTgN3MVimoXv7rKk5foipizB3UwGkPi96zSC6JlCFCkQuytd7WpoTZdO6cJ51JX+oVLTgcEbh3aOSVF4nzOtoy++rjqELx1B7R/i45VhVgLB+JrIEghvhBO80hesiZJdBpqs5DmPcQbcBGJa5HyOVCwUWr/2buLm0XnmZE+mIrxle9TsUE84ykYXXGZSzs0KnX339b79okV4iatdRTljf6cDi2XtLE59qkxA4xpin+Emt7rf/f17K+sSmUo4YK67eFI0HsMmB1Bvn6Vm8JJPuFPEHtoFIRh3iqecYo5cR/okPt53WPCi/6R82bSWeQSwehQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAAABHNCSVQICAgIfAhkiAAABFRJREFUaEPlmj9e2zAUxyWnhW6lJ2gYCUMDoTNmCyyFEzScoHCC0hM0nIBwgpolZGsyl9B0AMaGG4St8CFWf8844CSObEfPUFN9PlliS3pfPen9s6TQtLON90Up3FWhxCZey/s/XZfHeNbFJF0hhaOE1Vqs/+hMmlSGPbgoF/NK5g7wzH4MaQ3ncKTq7y40OgQ91MbgLsrLFSUlgWWqSaW2FxqntaDQQ3BnG6UDqUQlU1QBYZUUtcV6e3vw1z1cVjU2thUDGvTg/DP2O6saGwfsz9MZ9ODO10vfM2I84q6/Uzhub0nP3Cv3Z9xeWXkPFnRenq8v7wghv2ZF6Phyql2CawJuNX6nrLypWoArkSHJpyGylOKXUgKLp7pSWfeRhJJqjs44ntt4/i6NuTFml+BUCoMfYs/vhUUNo3P5lnoP/3/kloMVjjTlCquii/cmAVyUV2xo1MHz11yQbHAE9memby85nd60wvmWG9uYB5AL7vJ6tl80ARssCI4JZSDfpl2gYD8WOKnk2kLjhFacpXFZcAY41Socn9qTzxKlTy8+wWIWvXeQhxXq7X3dKnDFucZwSI++LNZPyNqNtZ+bxbnZ6xy5GjL9wdZEeLSmXxCvn1EzhoNGdqG5apgUOD81/B9q4qO2MoeLMoabpLkYmcYWtEemP7T9E3CQrAdLOT9qKSEcaRNnLbzpNMcVzBtrzhe9Cw3u3MzctmZuXuaR8mMrKgTkk1qUEeIpdXDBxT34V1iEKhahqvOJXPllmnAeiOWKZhIf6IdhlDwbt7TgAGbZSWNM33VQ4pw3JsMAacEdwhJWkgrIFZkM5k0FTufYdcDkPoSVc7hyvFTgUH4/KjTaFAAnbrQ1X93kmhyA6cDRfg+pAMcl9c9eF+8b5XapwfkgHUB6UYhrSfg/MhQS/4mjKAvKUbhKG26yGx8pfYe9CH9Hie/U2uOCu4QQDgxJDzVQO0E1TR9flksOUqQPcbfz6HsccGNmX5cNjAigdRlnGyt72NafnwruEv5szOHGNwj6GPNJ4XT+LJ5gGYWLkc+JKGcflTZFbVfTM2dyZq5QuC3qCrem1XBTuB7O3BvdCp6HW7zIwJojYTWFA9fkGsoA2q9mUfULhSLVuZ51a1E1TmiNapdThXCcgXNomSHqPOgDaK+0bpzTMWjOE7OD7blkAvSgZe+aCOV0o+XAxMNzwdHEDgpF21HbTa8xD4y2410B17BxwnkahAXcivPpalRu/xsB3X8x1hjnmQtZX1mV6nY/DqRfM6EQyzZU1Fh30lwX/77lHtgfz0t5lEUB9cOXVaH6tp8CkTVk01SQgT6pPfdv4s/4NgNHJJDSljYa1ruHQiNwl9SMpOLo7Beonv/dL1osrq+ZHAtvMkaw6jZ03zJBecBk/jT7DqVg/89N2cGSelm0yFVNKk9pqmdobBgPKfo7se44BzvelQosiiLwk/kUI5kka4EyoqKoChe3XUcX4v0FKV9dnhDOSkcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/compose.9c72b916.svg\";","export default __webpack_public_path__ + \"static/media/inbox.d01831fa.svg\";","export default __webpack_public_path__ + \"static/media/star.f8b1054e.svg\";","export default __webpack_public_path__ + \"static/media/send.8c330a13.svg\";","export default __webpack_public_path__ + \"static/media/robot.d9800901.svg\";","export default __webpack_public_path__ + \"static/media/contact.68c91ea9.svg\";","export default __webpack_public_path__ + \"static/media/github.9eb4653b.svg\";","export default __webpack_public_path__ + \"static/media/discord.260b256f.svg\";","import { Button, CircularProgress, Icon } from '@mui/material';\nimport { useWeb3React } from '@web3-react/core';\nimport React, { useState, useEffect } from 'react';\nimport compose from '../../photos/icons/home/compose.svg';\nimport inbox from '../../photos/icons/home/inbox.svg';\nimport star from '../../photos/icons/home/star.svg';\nimport send from '../../photos/icons/home/send.svg';\nimport robot from '../../photos/icons/home/robot.svg';\nimport contact from '../../photos/icons/home/contact.svg';\nimport github from '../../photos/icons/home/github.svg';\nimport discord from '../../photos/icons/home/discord.svg';\nimport '../../componentsStyling/home.scss';\nimport ContactsSetter from '../ContactsSetter';\nimport Stepper from './Stepper';\nimport { getKeyMoralis } from '../../ethereum/EventLogsMoralis';\n\nexport function Home(props: any) {\n    const { account, library } = useWeb3React()\n    const [selectedIndex, setSelectedIndex] = useState<any>(4);\n    const [show, setShow] = useState(false);\n    const [encryptionKeyInitialized, setEncryptionKeyInitialized] = \n        useState<boolean|undefined>(undefined);\n    const [loading, setLoading] = useState(true)\n\n    useEffect(() => {\n        setLoading(true)\n        setTimeout(() => {\n            getPublicEncryptionKey();\n        }, 8000)\n    }, [account, library]);\n\n    useEffect(() => {\n        setLoading(true)\n        getPublicEncryptionKey()\n    }, [account]);\n\n    const getPublicEncryptionKey = async () => {  \n        await getKeyMoralis(account).then((result: any) => {\n            const initialized = (result != '') ? true : false\n            setEncryptionKeyInitialized(initialized);\n        })\n        \n    }\n\n    function navigateTo(text: any, index: any) {\n        setSelectedIndex(index)\n        props.onChange(text)\n        if(index !== 0)\n            localStorage.removeItem('input')\n    }\n\n    function HomeContent() {\n        return (\n            <div className=\"content-box home\">\n                <div className=\"heading mt-3\">\n                    <h4>Welcome to deb0x</h4>\n                    <p>Let's show you around our app</p>\n                </div>\n                <div className=\"tiles-container\">\n                    <div className=\"row\">\n                        <div className=\"col-3 tile\">\n                            <div className=\"tile-content\">\n                                <p>Start writing your messages using</p>\n                                <Button className=\"compose\"\n                                    onClick={() => navigateTo(\"Compose\", 0)} \n                                    startIcon={\n                                    <Icon>\n                                        <img alt=\"compose\" src={compose} />\n                                    </Icon>\n                                }>\n                                    Compose\n                                </Button>\n                            </div>\n                        </div>\n                        <div className=\"col-3 tile\">\n                            <div className=\"tile-content\">\n                                <p>Check received messages in</p>\n                                <Button className=\"inbox\"\n                                    onClick={() => navigateTo(\"Deb0x\", 1)} \n                                    startIcon={\n                                        <Icon>\n                                            <img alt=\"inbox\" src={inbox} />\n                                        </Icon>\n                                }>\n                                Your Deb0x\n                                </Button>\n                            </div>\n                        </div>\n                        <div className=\"col-3 tile\">\n                            <div className=\"tile-content\">\n                                <p>Have a look at your Fees & Rewards using</p>\n                                <Button className=\"stake\"\n                                    onClick={() => navigateTo(\"Stake\", 2)}  \n                                    startIcon={\n                                        <Icon>\n                                            <img alt=\"stake\" src={star} />\n                                        </Icon>\n                                }>\n                                    DBX\n                                </Button>\n                            </div>\n                        </div>\n                        <div className=\"col-3 tile\">\n                            <div className=\"tile-content\">\n                                <p>Check sent emails in</p>\n                                <Button className=\"sent\"\n                                    onClick={() => navigateTo(\"Sent\", 3)}\n                                    startIcon={\n                                        <Icon>\n                                            <img alt=\"sent\" src={send} />\n                                        </Icon>\n                                }>\n                                    Sent\n                                </Button>\n                            </div>\n                        </div>\n                        <div className=\"col-3 tile\">\n                            <div className=\"tile-content\">\n                                <p>Get in touch with us</p>\n                                <Button className=\"robot\"\n                                    startIcon={\n                                        <Icon>\n                                            <img alt=\"robot\" src={robot} />\n                                        </Icon> \n                                }>\n                                    deb0x bot\n                                </Button>\n                            </div>\n                        </div>\n                        <div className=\"col-3 tile\">\n                            <div className=\"tile-content\">\n                                <p>Store your favorite addresses in the</p>\n                                <Button className=\"contact\"\n                                    onClick={() => setShow(true)}\n                                    startIcon={\n                                        <Icon>\n                                            <img alt=\"contact\" src={contact} />\n                                        </Icon>\n                                }>\n                                    Contacts\n                                </Button>\n                                {show ?\n                                    <ContactsSetter show={show} onClickOutside={() => setShow(false)}/> :\n                                    <></>\n                                }\n                            </div>\n                        </div>\n                        <div className=\"col-3 tile\">\n                            <div className=\"tile-content\">\n                                <p>Have a look at our</p>\n                                <a href=\"https://github.com/deb0x/deb0x-faberweb3\" target=\"_blank\" className='logo-text-color'>\n                                    <Button className=\"github\"\n                                        startIcon={\n                                            <Icon>\n                                                <img alt=\"github\" src={github} />\n                                            </Icon>\n                                    }>\n                                        GitHub\n                                    </Button>\n                                </a>\n                            </div>\n                        </div>\n                        <div className=\"col-3 tile\">\n                            <div className=\"tile-content\">\n                                <p>Get in touch with the dev community on</p>\n                                <a href=\"http://discord.gg/btejt3kUcN\" target=\"_blank\" className='logo-text-color'>\n                                    <Button className=\"discord\"\n                                        startIcon={\n                                        <Icon>\n                                            <img alt=\"discord\" src={discord} />\n                                        </Icon>\n                                    }>\n                                        Discord\n                                    </Button>\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"home-bottom\">\n                    <p className=\"mb-0 mt-4\">\n                        Have a look at our official publications on\n                        <a href=\"https://github.com/deb0x\" target=\"_blank\" className='logo-text-color ml-2'>\n                            Mirror\n                        </a>\n                        .\n                        </p>\n                    <p>\n                        For latest news & updates follow us on\n                        <a href=\"https://twitter.com/deb0xDAO\" target=\"_blank\" className='logo-text-color ml-2'>\n                        Twitter\n                        </a>\n                        .\n                    </p>\n                </div>\n                \n            </div>\n        )\n    }\n\n    if (encryptionKeyInitialized === true) {\n        return (\n            <HomeContent />\n        )\n    } else if (encryptionKeyInitialized === false) {\n        return (\n            <Stepper onDeboxInitialization={getPublicEncryptionKey}/>\n        )\n    } else {\n        return(\n            <div className=\"spinner\">\n                <CircularProgress/>\n            </div>\n        )\n    }\n}","import { IconButton } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { getInitializedAddresses } from \"../../ethereum/EventLogsMoralis\";\nimport SendIcon from '@mui/icons-material/Send';\nimport \"../../componentsStyling/addresses.scss\";\nimport { useWeb3React } from \"@web3-react/core\";\n\nexport function AllInitializedAddresses(props: any) {\n    const { chainId, library } = useWeb3React()\n    const [addresses, setAddresses] = useState([]);\n    const min = 1;\n    const max = 50;\n    const [, setSelectedIndex] = useState<any>();\n    const [ensName,setEnsName] = useState(\"\");\n    const savedContacts = JSON.parse(localStorage.getItem('contacts') || 'null');\n        \n    useEffect(() => {\n        getAddresses();\n        checkENS();\n    }, [])\n\n    async function getAddresses() {\n        await getInitializedAddresses().then((result: any) => setAddresses(result))\n    }\n\n    function handleChange(text: any, index: any) {\n        setSelectedIndex(index)\n        props.onChange(text)\n        if(index !== 0)\n            localStorage.removeItem('input')\n    }\n\n    async function checkENS() {\n        if(chainId != 137){\n            let name = await library.lookupAddress(props.message.sender);\n            if(name !== null) {   \n                setEnsName(name);\n            }\n        }\n    }\n\n    function checkAddressInLocalStorage(address: any) {\n        let user: any;\n\n        if (ensName !== \"\") {\n            user = ensName;\n        } else {\n            savedContacts.map((contact: any) => {\n                if (address == (contact.address).toLowerCase()) {\n                    user = true;\n                }\n            })\n        }\n\n       return user;\n    }\n\n    return (\n        <div className=\"content-box\">\n            <div className=\"addresses-heading\">\n                <p>Total users in DBX community: </p>\n                <h2>{addresses.length}</h2>\n            </div>\n            <div>\n                {addresses && addresses.map(address => (  \n                    <div className=\"address-container\"> \n                        <div className=\"details\">\n                            <img width=\"30px\" height=\"30px\" \n                                src={require(`../../photos/icons/avatars/animal-${(Math.floor(Math.random() * (max - min + 1)) + min)}.svg`).default} \n                                alt=\"avatar\"/> \n                            <span className=\"address\">{address}</span>\n                            {\n                                checkAddressInLocalStorage(address) ?\n                                    <span> -&nbsp;\n                                    {savedContacts.filter((contact: any) => address == (contact.address).toLowerCase())\n                                        .map((filteredPerson: any) => (\n                                            filteredPerson.name\n                                        ))}\n                                    </span> :\n                                    null\n                            }\n                            \n                        </div>\n                        <div className=\"buttons\">\n                            <IconButton size=\"small\"\n                                onClick={() => {\n                                    localStorage.setItem(\"input\", JSON.stringify(address));\n                                    handleChange(\"Compose\", 0)\n                                }}>\n                                <SendIcon className=\"send-icon\" fontSize=\"small\"/>\n                            </IconButton>\n                        </div>  \n                    </div>  \n                ))}  \n            </div>\n        </div>\n    )\n}","import { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport './App.css';\nimport { \n    Web3ReactProvider,\n    useWeb3React,\n    UnsupportedChainIdError\n} from '@web3-react/core';\nimport {\n  NoEthereumProviderError,\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\n} from '@web3-react/injected-connector'\nimport { ethers } from \"ethers\";\nimport { useEagerConnect, useInactiveListener } from './hooks'\nimport { PermanentDrawer } from './components/App/PermanentDrawer'\nimport { create } from 'ipfs-http-client'\nimport { Encrypt } from './components/App/Encrypt';\nimport { Decrypt } from './components/App/Decrypt';\nimport { Stake } from './components/App/Stake';\nimport { Sent } from './components/App/Sent';\nimport { Box,Typography, Fab, Button} from '@mui/material';\nimport ThemeProvider from './components/Contexts/ThemeProvider';\nimport './index.scss';\nimport { injected, network } from './connectors';\nimport ContactsProvider from './components/Contexts/ContactsProvider';\nimport elephant from './photos/icons/elephant.svg';\nimport logoGreen from './photos/icons/logo-green.svg';\nimport logoDark from \"./photos/logo-dark.svg\";\nimport maintenanceImg from './photos/empty.png';\nimport { Spinner } from './components/App/Spinner';\nimport { AppBarComponent } from './components/App/AppBar';\nimport IconButton from \"@mui/material/IconButton\";\nimport { Add } from '@mui/icons-material';\nimport HowTo from './components/HowTo';\nimport ReactGA from 'react-ga';\nimport { Home } from './components/App/Home';\nimport useAnalyticsEventTracker from './components/Common/GaEventTracker';\nimport { use } from 'chai';\nimport { Mint } from './components/App/Mint';\nimport { AllInitializedAddresses } from './components/App/AllInitializedAddresses';\n\nconst maintenance = process.env.REACT_APP_MAINTENANCE_MODE;\n\nReactGA.initialize(\"UA-151967719-3\");\n\nconst client = create({\n  host: 'ipfs.infura.io',\n  port: 5001,\n  protocol: 'http'\n})\n\nconst ethUtil = require('ethereumjs-util');\nconst deb0xAddress = \"0xA06735da049041eb523Ccf0b8c3fB9D36216c646\";\n\n\nenum ConnectorNames { Injected = 'Injected', Network = 'Network' };\n\nconst connectorsByName: { [connectorName in ConnectorNames]: any } = {\n  [ConnectorNames.Injected]: injected,\n  [ConnectorNames.Network]: network\n}\n\nfunction getErrorMessage(error: Error) {\n    let networkName;\n\n    injected.supportedChainIds?.forEach(chainId => networkName = (ethers.providers.getNetwork(chainId)).name)\n    if (error instanceof NoEthereumProviderError) {\n        return 'No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.'\n    } else if (error instanceof UnsupportedChainIdError) {\n        return `You're connected to an unsupported network. Switch to ${networkName}`\n    } else if (\n        error instanceof UserRejectedRequestErrorInjected\n    ) {\n        return 'Please authorize this website to access your Ethereum account.'\n    } else {\n        console.error(error)\n        return 'An unknown error occurred. Check the console for more details.'\n    }\n}\n\nfunction getLibrary(provider: any): ethers.providers.Web3Provider {\n  const library = new ethers.providers.Web3Provider(provider)\n\n  library.pollingInterval = 12000\n  return library\n}\n\nexport default function () {\n  return (\n    <Web3ReactProvider getLibrary={getLibrary}>\n      <App />\n    </Web3ReactProvider>\n  )\n}\n\nfunction App() {\n    const context = useWeb3React<ethers.providers.Web3Provider>()\n    const { connector, library, chainId, account, active, error, activate } = context\n\n    // handle logic to recognize the connector currently being activated\n    const [activatingConnector, setActivatingConnector] = useState<any>()\n    const [selectedOption, setSelectedOption] = useState('Home');\n    const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n    const [networkName, setNetworkName] = useState<any>();\n    const [currentChainId, setCurrentChainId] = useState<any>();\n    let errorMsg;\n    const [isVisible, setIsVisible] = useState(false);\n    let [show, setShow] = useState(false);\n    const [selectedIndex, setSelectedIndex] = useState<any>(1);\n    const [isOptionSelected, setIsOptionSelected] = useState(true);\n    const gaEventTracker = useAnalyticsEventTracker('Login');\n    const gaEventMenuTracker = useAnalyticsEventTracker('Menu');\n\n    useEffect(() => {\n        injected.supportedChainIds?.forEach(chainId => \n            setNetworkName((ethers.providers.getNetwork(chainId).name)));\n        if (activatingConnector && activatingConnector === connector) {\n            setActivatingConnector(undefined)\n            setIsVisible(true);\n        }\n    }, [activatingConnector, connector])\n\n    // handle logic to eagerly connect to the injected ethereum provider, if it exists and has granted access already\n    const triedEager = useEagerConnect()\n\n    // handle logic to connect in reaction to certain events on the injected ethereum provider, if it exists\n    useInactiveListener(!triedEager || !!activatingConnector)\n\n    function handleChange(newValue: any) {\n        setSelectedOption(newValue);\n        setIsOptionSelected(true);\n        gaEventMenuTracker(newValue);\n    }\n\n    useEffect(() => {\n        window.location.pathname == \"/send\" ?\n            setIsOptionSelected(false) :\n            setIsOptionSelected(true);\n        localStorage.removeItem('input');\n        setIsVisible(false);\n    }, [])\n\n    function handleClick (event: React.MouseEvent<HTMLElement>) {\n        setAnchorEl(anchorEl ? null : event.currentTarget);\n        gaEventTracker(\"Connect Wallet\");\n    };\n\n    useEffect(() => {   \n        window.ethereum ?\n            window.ethereum.request({method: \"eth_requestAccounts\"}).then(() => {\n                switchNetwork();               \n            }).catch((err: any) => displayErrorMsg(err))\n            : displayErrorMsg(\"Please install MetaMask\")\n        }, [])\n\n    useEffect(() => {\n        if(window.ethereum) {\n            window.ethereum.request({method: 'eth_chainId'}).then((chainId: any) => {\n                setCurrentChainId(chainId);\n            }).catch((err: any) => displayErrorMsg(err)) \n        }\n    });\n\n    async function switchNetwork() {\n        try {\n            await window.ethereum.request({\n            method: 'wallet_switchEthereumChain',\n            params: [{ chainId: \"0x89\"}],\n            }).then(\n                displayErrorMsg(\"You have switched to the right network\")\n            );            \n        } catch (switchError) {\n            try {\n                await window.ethereum.request({\n                method: 'wallet_addEthereumChain',\n                params: [\n                    {\n                        chainId: '0x89', \n                        chainName:'Polygon Network',\n                        rpcUrls:['https://rpc-mainnet.maticvigil.com'],                   \n                        blockExplorerUrls:['https://polygonscan.com/'],  \n                        nativeCurrency: { \n                        symbol:'Matic',   \n                        decimals: 18\n                        }       \n                    }\n                    ]});\n            } catch (err) {\n                displayErrorMsg(\"Cannot switch to the network\");\n            }\n        }\n        \n    }\n\n    function displayErrorMsg(error: string) {\n        errorMsg = error;\n        return errorMsg;\n    }\n    \n    useEffect(() => {\n        setTimeout(() => {setIsVisible(true)}, 2000)\n    }, [account])\n    \n    return (\n\n    <>\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n        {!!errorMsg &&\n            <p className='alert alert-danger position-fixed' style={{ marginTop: '4rem', marginBottom: '0' }}>\n                {displayErrorMsg(errorMsg)}\n            </p>\n        }\n    </div>\n        <ThemeProvider>\n        {\n            account ? \n            <ContactsProvider>\n                <div className=\"app-container container-fluid\">\n                    { maintenance == \"true\" ?\n                        <div className=\"row main-row maintenance-mode\">\n                            <img className=\"maintenance-img\" src={maintenanceImg} />\n                            <h1>Maintenance Mode</h1>\n                            <h4>We're tightening some nuts and bolts round the back. We'll be back up and running soon.</h4>\n                        </div> :\n                        <div className=\"row main-row\">\n                            <div className=\"col col-md-3 col-sm-12 p-0 side-menu-container\">\n                                <PermanentDrawer onChange={handleChange} />\n                            </div>\n                            <div className=\"col col-md-9 col-sm-12\">\n                            <AppBarComponent />\n                            {account ? \n                            !!(library && account) && (\n                                <Box className=\"main-container\" sx={{marginTop: 12}}>\n                                    {selectedOption === \"Compose\" && <Encrypt />}\n                                    {selectedOption === \"Deb0x\" && <Decrypt account={account}/>}\n                                    {selectedOption === \"Stake\" && <Stake />}\n                                    {selectedOption === \"Sent\" && <Sent />}\n                                    {selectedOption === \"Home\" && <Home onChange={handleChange} />}\n                                    {selectedOption === \"Mint\" && <Mint />}\n                                    {selectedOption === \"DBX Yellow pages\" && <AllInitializedAddresses onChange={handleChange} />}\n                                </Box>\n                            ):\n                                <Box className=\"home-page-box\">\n                                    <Typography sx={{textAlign:\"center\",color:\"gray\"}} variant=\"h1\">\n                                        The End To End Encrypted \n                                        <br></br>\n                                        Decentralized Email Protocol \n                                        <br></br> \n                                        Owned By Its Users\n                                    </Typography>\n                                    <Typography sx={{ mt:10,textAlign:\"center\"}} variant=\"h3\">\n                                        Please connect your wallet\n                                    </Typography>\n                                </Box>\n                            }\n                            </div>\n                        </div>\n                    }\n                </div>\n            </ContactsProvider> :\n            <div className={`app-container p-0 ${isVisible ? \"\" : \"d-none\"}` }>\n                <div className=\"initial-page\">\n                    <div className=\"row\">\n                        <div className=\"col-md-7 img-container mr-4\">\n                            <img className=\"image--left\" src={elephant} />\n                            <div className=\"img-content\">\n                                <p>Let's get you started</p>\n                                \n                                <p>Connect your wallet & start using <img className=\"content-logo\" src={logoGreen} /> {'\\u00A0'}</p>\n                                {currentChainId === \"0x89\" ?\n                                    <p> Here's how to do this in {'\\u00A0'}\n                                        <IconButton className='info show-popup' onClick={() => setShow(true)}>3 easy steps</IconButton>\n\n                                    </p> : \"\"\n                                }\n                                {show ? \n                                    <HowTo show={show} onClickOutside={() => setShow(false)}/> : \n                                        <></>\n                                }\n                                <div>\n                                { (() =>  {\n                                    const currentConnector = connectorsByName[ConnectorNames.Injected]\n                                    const activating = currentConnector === activatingConnector\n                                    const connected = currentConnector === connector\n                                    const disabled = !triedEager || !!activatingConnector || connected || !!error\n\n                                    return (\n                                        <Button variant=\"contained\"\n                                            key={ConnectorNames.Injected}\n                                            // aria-describedby={id}\n                                            onClick={!connected ? \n                                                () => {\n                                                    setActivatingConnector(currentConnector)\n                                                    activate(currentConnector)\n                                                    gaEventTracker(\"Connect Wallet\");\n                                                } : \n                                                handleClick}\n                                                className=\"connect-button\">\n                                            \n                                            { activating ? \n                                                <Spinner color={'black'} /> :\n                                                !connected ? \n                                                    \"Connect Wallet\" :\n                                                    <span>\n                                                        {typeof window.ethereum === 'undefined' ? \n                                                            `Check your prerequisites` : \n                                                            account === undefined ? `Unsupported Network. Switch to ${networkName}` : ''}\n                                                    </span>\n                                            }\n                                        </Button>\n                                    )\n                                }) ()}\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-md-5 text-center\">\n                            <div className=\"text-container\">\n                                <img className=\"dark-logo\" src={logoGreen} />\n                                <p>\n                                    The End to End Encrypted Decentralized \n                                    Email Protocol <br />\n                                    <span className=\"text-green\">\n                                        Owned by its Users\n                                    </span>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"mobile-message\">\n                    <img className=\"dark-logo\" src={logoGreen} />\n                    <p>In order to use the app please log in from Desktop</p>\n                    <img className=\"elephant-img\" src={elephant} />\n                </div>\n            </div>\n        }\n        </ThemeProvider>\n    </>\n  )\n}\n\n\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}